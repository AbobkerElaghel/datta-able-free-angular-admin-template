"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[380],{3380:(X,d,s)=>{s.r(d),s.d(d,{ReClassificationModule:()=>D});var l=s(177),p=s(7062),a=s(9417),c=s(3471),m=s(2208),e=s(3953),F=s(7774),h=s(3197),f=s(2356),v=s(3426),g=s(2016),y=s(2702),b=s(8834);function C(i,r){if(1&i&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(),e.SpI("",t.name," ")}}function E(i,r){if(1&i&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.jobCode," ")}}function R(i,r){if(1&i&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&i){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI("",t.label," ")}}function k(i,r){1&i&&(e.j41(0,"div",45),e.EFF(1," \u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629. "),e.k0s())}function j(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",37)(1,"div",20)(2,"div",38)(3,"label",39),e.EFF(4,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629"),e.k0s(),e.nrm(5,"input",40),e.DNE(6,k,2,0,"div",41),e.k0s(),e.j41(7,"div",42)(8,"a",43),e.bIt("click",function(){const o=e.eBV(t).index,n=e.XpG(2);return e.Njj(n.removeNote(o))}),e.j41(9,"i",44),e.EFF(10,"close"),e.k0s()()()()()}if(2&i){let t;const u=r.$implicit,o=r.index,n=e.XpG(2);e.Y8G("formGroupName",o),e.R7$(3),e.Mz_("for","familyName",o,""),e.R7$(2),e.Mz_("id","familyName",o,""),e.R7$(),e.Y8G("ngIf",(null==(t=n.getControl(u,"text"))?null:t.invalid)&&((null==(t=n.getControl(u,"text"))?null:t.dirty)||(null==(t=n.getControl(u,"text"))?null:t.touched)))}}function N(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",46)(1,"button",47),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onReClassification())}),e.EFF(2,"\u062d\u0641\u0638"),e.k0s(),e.j41(3,"button",48),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.onReset())}),e.EFF(4,"\u062c\u062f\u064a\u062f"),e.k0s()()}}function $(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"form",17)(4,"div",18)(5,"h5",19),e.EFF(6,"\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(7,"hr"),e.j41(8,"div",20)(9,"div",21)(10,"label"),e.EFF(11,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(12,"input",22),e.nI1(13,"async"),e.k0s(),e.j41(14,"div",21)(15,"label"),e.EFF(16,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(17,"input",22),e.nI1(18,"async"),e.k0s(),e.j41(19,"div",21)(20,"label"),e.EFF(21,"\u0627\u0644\u0625\u062f\u0627\u0631\u0629"),e.k0s(),e.nrm(22,"input",23),e.nI1(23,"async"),e.k0s(),e.j41(24,"div",21)(25,"label"),e.EFF(26,"\u0627\u0644\u0645\u0648\u0642\u0639 "),e.k0s(),e.nrm(27,"input",23),e.nI1(28,"async"),e.k0s()(),e.j41(29,"div",20)(30,"div",21)(31,"label"),e.EFF(32,"\u0631\u0642\u0645 \u062c\u0648\u0627\u0632 \u0627\u0644\u0633\u0641\u0631"),e.k0s(),e.nrm(33,"input",23),e.nI1(34,"async"),e.k0s(),e.j41(35,"div",21)(36,"label"),e.EFF(37,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),e.k0s(),e.nrm(38,"input",23),e.nI1(39,"async"),e.nI1(40,"date"),e.k0s(),e.j41(41,"div",21)(42,"label"),e.EFF(43,"\u0627\u0644\u0631\u0627\u062a\u0628 \u0627\u0644\u0627\u0633\u0627\u0633\u064a "),e.k0s(),e.nrm(44,"input",23),e.nI1(45,"async"),e.k0s(),e.j41(46,"div",21)(47,"label"),e.EFF(48,"\u062d\u0627\u0644\u0629 \u0627\u0644\u0625\u062c\u062a\u0645\u0627\u0639\u064a\u0629 \u0644\u0644\u0631\u0627\u062a\u0628"),e.k0s(),e.nrm(49,"input",23),e.nI1(50,"async"),e.k0s()(),e.j41(51,"div",20)(52,"div",21)(53,"label"),e.EFF(54," \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),e.k0s(),e.nrm(55,"input",23),e.nI1(56,"async"),e.k0s(),e.j41(57,"div",21)(58,"label"),e.EFF(59,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),e.k0s(),e.nrm(60,"input",23),e.nI1(61,"async"),e.k0s(),e.j41(62,"div",21)(63,"label"),e.EFF(64,"\u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629"),e.k0s(),e.nrm(65,"input",23),e.nI1(66,"async"),e.k0s(),e.j41(67,"div",21)(68,"label"),e.EFF(69,"\u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),e.k0s(),e.nrm(70,"input",23),e.nI1(71,"async"),e.k0s()(),e.j41(72,"div",20)(73,"div",21)(74,"label"),e.EFF(75," \u0646\u0648\u0639 \u0627\u0644\u0631\u0627\u062a\u0628 "),e.k0s(),e.nrm(76,"input",23),e.nI1(77,"async"),e.k0s(),e.j41(78,"div",21)(79,"label"),e.EFF(80,"\u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u064a "),e.k0s(),e.nrm(81,"input",23),e.nI1(82,"async"),e.k0s(),e.j41(83,"div",21)(84,"label"),e.EFF(85,"\u0631\u0645\u0632 \u0627\u0644\u0627\u062c\u0631\u0627\u0621 "),e.k0s(),e.nrm(86,"input",23),e.nI1(87,"async"),e.k0s(),e.j41(88,"div",21)(89,"label"),e.EFF(90,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0633\u0631\u064a\u0627\u0646 "),e.k0s(),e.nrm(91,"input",23),e.nI1(92,"async"),e.nI1(93,"date"),e.k0s()(),e.j41(94,"div",20)(95,"div",21)(96,"label"),e.EFF(97,"\u0627\u0644\u062c\u0646\u0633\u064a\u0629 "),e.k0s(),e.nrm(98,"input",23),e.nI1(99,"async"),e.k0s(),e.j41(100,"div",21)(101,"label"),e.EFF(102,"Noc Number"),e.k0s(),e.nrm(103,"input",23),e.nI1(104,"async"),e.k0s()()(),e.j41(105,"div",18)(106,"h5",24),e.EFF(107,"\u062a\u062d\u062f\u064a\u062b \u0628\u064a\u0627\u0646\u0627\u062a"),e.k0s(),e.nrm(108,"hr"),e.j41(109,"div",20)(110,"div",10)(111,"label"),e.EFF(112,"\u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(113,"select",25)(114,"option",26),e.EFF(115,"\u0627\u062e\u062a\u0631..."),e.k0s(),e.DNE(116,E,2,2,"option",8),e.nI1(117,"async"),e.k0s()(),e.j41(118,"div",10)(119,"label",27),e.EFF(120,"\u0627\u0644\u0645\u0631\u062a\u0628 \u0627\u0644\u0627\u0633\u0627\u0633\u064a"),e.k0s(),e.nrm(121,"input",28),e.k0s(),e.j41(122,"div",10)(123,"label"),e.EFF(124,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0633\u0631\u064a\u0627\u0646"),e.k0s(),e.nrm(125,"input",29),e.k0s()(),e.j41(126,"div",20)(127,"div",10)(128,"label"),e.EFF(129,"\u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0625\u0636\u0627\u0641\u064a "),e.k0s(),e.j41(130,"select",30)(131,"option",7),e.EFF(132,"\u0627\u062e\u062a\u0631 ..."),e.k0s(),e.DNE(133,R,2,2,"option",8),e.k0s()(),e.j41(134,"div",10)(135,"label"),e.EFF(136,"\u0631\u0645\u0632 \u0627\u0644\u0627\u062c\u0631\u0627\u0621 "),e.k0s(),e.nrm(137,"input",31),e.k0s(),e.j41(138,"div",12),e.EFF(139," \u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0627\u062d\u0638\u0629 "),e.j41(140,"button",32),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.addNote())}),e.nrm(141,"i",33),e.k0s()()(),e.j41(142,"div",34),e.DNE(143,j,11,6,"div",35),e.k0s()(),e.DNE(144,N,5,0,"div",36),e.nI1(145,"async"),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("formGroup",t.registerFormRequest),e.R7$(9),e.Y8G("value",e.bMT(13,40,t.reClassificationFacade.Employee$).employeeCode),e.R7$(5),e.Y8G("value",e.bMT(18,42,t.reClassificationFacade.Employee$).name),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(23,44,t.reClassificationFacade.Employee$).managementName),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(28,46,t.reClassificationFacade.Employee$).locationName),e.R7$(6),e.Y8G("disabled",!0)("value",e.bMT(34,48,t.reClassificationFacade.Employee$).passportNumber),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(40,52,e.bMT(39,50,t.reClassificationFacade.Employee$).birthDate)),e.R7$(6),e.Y8G("disabled",!0)("value",e.bMT(45,54,t.reClassificationFacade.Employee$).basicSalary),e.R7$(5),e.Y8G("disabled",!0)("value",t.getLabelFormOptions(t.optionsSocialStatus,e.bMT(50,56,t.reClassificationFacade.Employee$).socialStatusSalaries)),e.R7$(6),e.Y8G("disabled",!0)("value",e.bMT(56,58,t.reClassificationFacade.Employee$).jobCode),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(61,60,t.reClassificationFacade.Employee$).positionCode),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(66,62,t.reClassificationFacade.Employee$).jobClassificationName),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(71,64,t.reClassificationFacade.Employee$).jobTitleName),e.R7$(6),e.Y8G("disabled",!0)("value",t.getLabelFormOptions(t.optionsPayrollStatus,e.bMT(77,66,t.reClassificationFacade.Employee$).payrollStatus)),e.R7$(5),e.Y8G("disabled",!0)("value",t.getLabelFormOptions(t.optionsOvertime,e.bMT(82,68,t.reClassificationFacade.Employee$).overtime)),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(87,70,t.reClassificationFacade.Employee$).procedureCode),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(93,74,e.bMT(92,72,t.reClassificationFacade.Employee$).effDate)),e.R7$(7),e.Y8G("disabled",!0)("value",e.bMT(99,76,t.reClassificationFacade.Employee$).nationalityIDName),e.R7$(5),e.Y8G("disabled",!0)("value",e.bMT(104,78,t.reClassificationFacade.Employee$).nocNumber),e.R7$(13),e.Y8G("ngForOf",e.bMT(117,80,t.jobTitleFacade.JobTitles$)),e.R7$(17),e.Y8G("ngForOf",t.optionsOvertime),e.R7$(4),e.Y8G("disabled",!0),e.R7$(6),e.Y8G("ngForOf",t.Notes.controls),e.R7$(),e.Y8G("ngIf",null!=e.bMT(145,82,t.reClassificationFacade.Employee$))}}const G=[{path:"",component:(()=>{class i{constructor(t,u,o,n,O,B){this._formBuilder=t,this.reClassificationFacade=u,this.sharedFacade=o,this.employeeFacade=n,this.jobTitleFacade=O,this.cdr=B,this.phoneNumberPattern="[0][9]{1}[1,2,4,3,5]{1}[0-9]{7}",this.patternFloat="^-?\\d*(\\.\\d+)?$",this.rest=!1,this.registerForm=this._formBuilder.group({value:["",a.k0.required],code:[""],phoneNumber:["",[a.k0.minLength(10),a.k0.maxLength(10),a.k0.pattern(this.phoneNumberPattern)]],employeeName:[""]}),this.registerFormRequest=this._formBuilder.group({employeeId:["",a.k0.required],jobTitleId:[""],basicSalary:[0],socialStatusSalaries:[""],overtime:[""],effDate:[""],Notes:this._formBuilder.array([])}),this.Object=Object,this.optionsSocialStatus=m.UH,this.optionsOvertime=m.ez,this.optionsPayrollStatus=m.Ql,this.onSubmit()}ngOnInit(){}onSubmit(){this.registerFormRequest.controls.employeeId.setValue(""),this.employeeFacade.GetEmployee(),this.jobTitleFacade.GetJobTitle()}onSearch(){""!=this.registerForm.value.code&&null!=this.registerForm.value.code||""!=this.registerForm.value.employeeName&&null!=this.registerForm.value.employeeName||""!=this.registerForm.value.phoneNumber&&null!=this.registerForm.value.phoneNumber?this.registerForm.controls.phoneNumber.invalid&&""!=this.registerForm.value.phoneNumber&&null!=this.registerForm.value.phoneNumber?this.sharedFacade.showMessage(c.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644  \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0635\u064a\u063a\u0629 \u0635\u062d\u064a\u062d\u0629  ",[""]):(this.reClassificationFacade.GetEmployee(""!=this.registerForm.controls.employeeName.value&&null!=this.registerForm.controls.employeeName.value?"2":""!=this.registerForm.controls.code.value&&null!=this.registerForm.controls.code.value?"1":"3",""!=this.registerForm.controls.employeeName.value&&null!=this.registerForm.controls.employeeName.value?this.registerForm.value.employeeName:""!=this.registerForm.controls.code.value&&null!=this.registerForm.controls.code.value?this.registerForm.value.code:this.registerForm.value.phoneNumber),this.cdr.detectChanges(),this.rest=!0):this.sharedFacade.showMessage(c.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0628\u062d\u062b   ",[""])}onReset(){this.registerForm.reset(),this.registerForm.setErrors(null),this.registerFormRequest.reset(),this.registerFormRequest.setErrors(null),this.rest=!1}onReClassification(){const t=this.reClassificationFacade.EmployeeSubject$.getValue();null!=t&&this.registerFormRequest.controls.employeeId.setValue(t.id),this.registerFormRequest.valid&&(""!=this.registerFormRequest.controls.jobTitleId.value&&null!=this.registerFormRequest.controls.jobTitleId.value||0!=this.registerFormRequest.controls.basicSalary.value&&null!=this.registerFormRequest.controls.basicSalary.value||""!=this.registerFormRequest.controls.socialStatusSalaries.value&&null!=this.registerFormRequest.controls.socialStatusSalaries.value||""!=this.registerFormRequest.controls.overtime.value&&null!=this.registerFormRequest.controls.overtime.value||""!=this.registerFormRequest.controls.effDate.value&&null!=this.registerFormRequest.controls.effDate.value)?(this.reClassificationFacade.reClassification(this.registerFormRequest.value),this.onReset()):this.showNotification("\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u064a\u062a\u0645 \u062a\u062d\u062f\u064a\u062b\u0647\u0627 ","")}showNotification(t,u){this.sharedFacade.showMessage(c.Go.warning,t,[""])}getLabelFormOptions(t,u){const o=t.find(n=>n.value.toString()==u);return o?o.label:""}onchange(){this.rest=!1}createNote(){return this._formBuilder.group({text:["",a.k0.required]})}addNote(){const t=this.registerFormRequest.get("Notes");0==t.length&&t.push(this.createNote())}removeNote(t){this.Notes.removeAt(t)}get Notes(){return this.registerFormRequest.get("Notes")}getControl(t,u){return t.get(u)}static#e=this.\u0275fac=function(u){return new(u||i)(e.rXU(a.ok),e.rXU(F.U),e.rXU(h.I),e.rXU(f.n),e.rXU(v.Y),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-clinics"]],decls:29,vars:7,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",1,"row","g-3","align-items-center",3,"formGroup"],[1,"col-md-2"],["formControlName","employeeName","required","","aria-label","select example",1,"form-select",3,"change"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","required","","formControlName","code","id","employeeCode",1,"form-control"],[1,"col-md-3"],["type","text","required","","formControlName","phoneNumber","id","phoneNumber",1,"form-control"],[1,"col-md-3","align-self-end"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"feather","icon-info"],["class","col-sm-12",4,"ngIf"],[3,"value"],["action","javascript:",3,"formGroup"],[1,"col-md-12"],[1,"mt-2"],[1,"form-group","row"],[1,"col-sm-3"],["type","text","disabled","",1,"form-control",3,"value"],["type","text",1,"form-control",3,"disabled","value"],[1,"mt-5"],["formControlName","jobTitleId","required","","aria-label","select example",1,"form-select"],["value","-1","selected","","disabled",""],["for","basicSalary",1,"form-label"],["type","number","id","basicSalary","formControlName","basicSalary",1,"form-control"],["type","date","formControlName","effDate","id","effDate",1,"form-control"],["formControlName","overtime","aria-label","select example","id","overtime",1,"form-select"],["type","text","value","07",1,"form-control",3,"disabled"],["ngbDropdownToggle","","type","button",1,"btn","drp-icon","btn-rounded","btn-success",3,"click"],[1,"feather","icon-plus"],["formArrayName","Notes"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","col-12  ",4,"ngIf"],[3,"formGroupName"],[1,"form-group","col-md-6"],[3,"for"],["type","text","formControlName","text","required","",1,"form-control",3,"id"],["class","text-danger",4,"ngIf"],[1,"form-group","col-md-1","align-self-end"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"],[1,"text-danger"],[1,"col-12"],["type","button",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"click"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"]],template:function(u,o){1&u&&(e.j41(0,"div",0),e.nrm(1,"app-loading")(2,"app-messages"),e.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"form",4)(7,"div",5)(8,"label"),e.EFF(9," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.j41(10,"select",6),e.bIt("change",function(){return o.onchange()}),e.j41(11,"option",7),e.EFF(12,"\u0627\u062e\u062a\u0631 ..."),e.k0s(),e.DNE(13,C,2,2,"option",8),e.nI1(14,"async"),e.k0s()(),e.j41(15,"div",5)(16,"label"),e.EFF(17," \u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(18,"input",9),e.k0s(),e.j41(19,"div",10)(20,"label"),e.EFF(21," \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(22,"input",11),e.k0s(),e.j41(23,"div",12)(24,"button",13),e.bIt("click",function(){return o.onSearch()}),e.EFF(25," \u0628\u062d\u062b "),e.nrm(26,"i",14),e.k0s()()()()()(),e.DNE(27,$,146,84,"div",15),e.nI1(28,"async"),e.k0s()),2&u&&(e.R7$(6),e.Y8G("formGroup",o.registerForm),e.R7$(7),e.Y8G("ngForOf",e.bMT(14,3,o.employeeFacade.employee$)),e.R7$(14),e.Y8G("ngIf",null!=e.bMT(28,5,o.reClassificationFacade.Employee$)&&o.rest))},dependencies:[l.Sq,l.bT,a.qT,a.xH,a.y7,a.me,a.Q0,a.wz,a.BC,a.cb,a.YS,a.j4,a.JD,a.$R,a.v8,g.q,y.y,b.It,l.Jj,l.vh]})}return i})(),data:{breadcrumb:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0635\u0646\u064a\u0641"}}];let I=(()=>{class i{static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[p.iI.forChild(G),p.iI]})}return i})();var T=s(1944),A=s(1786),Y=s(9947),S=s(4823),M=s(9631),_=s(5842),x=s(9004);let D=(()=>{class i{static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[F.U,T.k,f.n,_.v,v.Y,x.c],imports:[l.MD,I,a.X1,A.G,Y.i,S.uc,M.fS,b.Hl]})}return i})()}}]);
