"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[818],{2208:(S,U,i)=>{i.d(U,{HH:()=>m,PE:()=>a,UH:()=>F,VF:()=>o,Vy:()=>c,a8:()=>d,ez:()=>l,oz:()=>h});let c=[{value:!0,label:"\u0646\u0639\u0645"},{value:!1,label:"\u0644\u0627"}],d=[{value:1,label:"\u0630\u0643\u0631"},{value:2,label:"\u0627\u0646\u062b\u064a"}],h=[{value:1,label:"\u0645\u0648\u0638\u0641"},{value:2,label:"\u0645\u062f\u064a\u0631 \u0625\u062f\u0627\u0631\u0629"},{value:3,label:"\u0631\u0626\u064a\u0633 \u0642\u0633\u0645"},{value:4,label:"\u0631\u0626\u064a\u0633 \u0648\u062d\u062f\u0629"},{value:5,label:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645"},{value:6,label:"\u0645\u062f\u064a\u0631 \u0645\u0643\u062a\u0628"}],a=[{value:1,label:"\u0645\u0645\u062a\u0627\u0632"},{value:2,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:3,label:"\u062c\u064a\u062f"},{value:4,label:"\u0645\u062a\u0648\u0633\u0637 "},{value:5,label:"\u0636\u0639\u064a\u0641 "},{value:6,label:"\u0625\u064a\u0641\u0627\u062f "},{value:7,label:"\u0644\u0627\u064a\u0648\u062c\u062f "}],F=[{value:1,label:"\u0623\u0639\u0632\u0628"},{value:2,label:"\u0645\u062a\u0632\u0648\u062c"},{value:3,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u064a\u0639\u0648\u0644"}],o=[{value:1,label:"\u0645\u0646\u0633\u0628"},{value:2,label:"\u062a\u0639\u064a\u064a\u0646"},{value:3,label:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"},{value:4,label:"\u0646\u0642\u0644"},{value:6,label:"\u062a\u0639\u064a\u064a\u0646 \u0628\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"}],l=[{value:1,label:"\u062f\u0627\u062e\u0644"},{value:2,label:"\u062e\u0627\u0631\u062c"}],m=[{value:1,label:"\u0623\u0645"},{value:2,label:"\u0623\u0628"},{value:3,label:"\u0632\u0648\u062c\u0629_\u0632\u0648\u062c"},{value:4,label:"\u0627\u0628\u0646"},{value:5,label:"\u0627\u0628\u0646\u0629"}]},4818:(S,U,i)=>{i.r(U),i.d(U,{JobTitleModule:()=>k});var c=i(177),d=i(8834),h=i(3719),a=i(9631),F=i(4823),o=i(9417),l=i(9004),m=i(7062),O=i(2208),b=i(3471),t=i(3953),s=i(3426),r=i(7847),e=i(3197),v=i(5520),p=i(2016),A=i(2702),y=i(9947);function E(u,j){if(1&u&&(t.j41(0,"option",30),t.EFF(1),t.k0s()),2&u){const n=j.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI("",n.name," ")}}function M(u,j){if(1&u&&(t.j41(0,"option",30),t.EFF(1),t.k0s()),2&u){const n=j.$implicit;t.Y8G("value",n.id),t.R7$(),t.SpI("",n.name," ")}}function z(u,j){if(1&u){const n=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td",31)(16,"a",32),t.bIt("click",function(){const g=t.eBV(n).$implicit,$=t.XpG();return t.Njj($.onEdit(g))}),t.j41(17,"i",33),t.EFF(18,"edit"),t.k0s()(),t.j41(19,"a",34),t.bIt("click",function(){const g=t.eBV(n).$implicit,$=t.XpG();return t.Njj($.onDelete(g.id))}),t.j41(20,"i",35),t.EFF(21,"close"),t.k0s()()()()}if(2&u){const n=j.$implicit;t.R7$(2),t.JRh(n.jobCode),t.R7$(2),t.JRh(n.description),t.R7$(2),t.JRh(n.name),t.R7$(2),t.JRh(n.nameEn),t.R7$(2),t.JRh(n.scientificQualificationName),t.R7$(2),t.JRh(n.numberPositionsLibyans),t.R7$(2),t.JRh(n.numberPositionsForeigners)}}const G=[{path:"",component:(()=>{class u{constructor(n,f,g,$,w){this.fb=n,this.jobTitleFacade=f,this.classificationBranchesFacade=g,this.sharedFacade=$,this.scientificQualificationsFacade=w,this.edit=!1,this.registerForm=this.fb.group({id:[""],jobCode:["",o.k0.required],name:["",[o.k0.required,C=>/^[\u0600-\u06FF\s]+$/.test(C.value)?null:{arabicCharacters:!0}]],nameEn:["",[o.k0.required,C=>/^[A-Za-z\s]+$/.test(C.value)?null:{englishCharacters:!0}]],description:["",o.k0.required],jobClassificationId:["",o.k0.required],jobClassificationName:[""],jobType:[1],numberPositionsLibyans:[0,o.k0.required],numberPositionsForeigners:[0,o.k0.required],scientificQualificationId:["",o.k0.required],scientificQualificationName:[""]}),this.optionsBooleanGeneral=O.Vy,this.onSubmit(),this.classificationBranchesFacade.GetJobClassification(),this.scientificQualificationsFacade.GetScientificQualifications()}ngOnInit(){this.edit=!1}onSubmit(){this.jobTitleFacade.GetJobTitle()}onDelete(n){this.edit=!1,this.jobTitleFacade.deleteJobTitle(n),this.registerForm.reset()}onReset(){this.edit=!1,this.registerForm.reset(),this.registerForm.setErrors(null),this.onSubmit()}onAdd(){if(this.registerForm.valid){const n=this.classificationBranchesFacade.JobClassificationSubject$.getValue().find(g=>g.id.toString()==this.registerForm.value.jobClassificationId);this.registerForm.value.jobClassificationName=""!=this.registerForm.value.jobClassificationId&&null!=this.registerForm.value.jobClassificationId?n.name:"";const f=this.scientificQualificationsFacade.ScientificQualificationsSubject$.getValue().find(g=>g.id==this.registerForm.value.scientificQualificationId);this.registerForm.value.scientificQualificationName=""!=this.registerForm.value.scientificQualificationId&&null!=this.registerForm.value.scientificQualificationId?f.name:"",this.edit?(this.jobTitleFacade.UpdateJobTitle(this.registerForm?.value),this.onReset()):(this.jobTitleFacade.AddJobTitle(this.registerForm?.value),this.onReset())}else{if(""==this.registerForm.value.jobCode)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629  ",[""]);if(""==this.registerForm.value.name||this.registerForm.controls.name.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",[""]);if(""==this.registerForm.value.nameEn||this.registerForm.controls.nameEn.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629",[""]);if(""==this.registerForm.value.jobClassificationId||this.registerForm.controls.jobClassificationId.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""]);if(""==this.registerForm.value.description||this.registerForm.controls.description.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""]);if(this.registerForm.controls.numberPositionsLibyans.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u064a\u0628\u064a\u0646",[""]);if(this.registerForm.controls.numberPositionsForeigners.invalid)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u0623\u062c\u0627\u0646\u0628",[""]);if(""==this.registerForm.value.scientificQualificationId)return void this.sharedFacade.showMessage(b.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a",[""])}}onEdit(n){this.registerForm.patchValue(n),this.registerForm.controls.numberPositionsLibyans.setValue(n.numberPositionsLibyans),this.edit=!0}static#t=this.\u0275fac=function(f){return new(f||u)(t.rXU(o.ok),t.rXU(s.Y),t.rXU(r.Z),t.rXU(e.I),t.rXU(v.o))};static#e=this.\u0275cmp=t.VBU({type:u,selectors:[["app-rewards-types"]],decls:77,vars:11,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"form-group","col-md-3"],["for","inlineFormName"],["type","text","required","","formControlName","jobCode","id","inlineFormName",1,"form-control"],["for","inlineFormNameAr"],["type","text","required","","formControlName","name","id","inlineFormNameAr",1,"form-control"],["for","inlineFormNameAEn"],["type","text","required","","formControlName","nameEn","id","inlineFormNameAEn",1,"form-control"],["formControlName","jobClassificationId","required","","aria-label","select example",1,"form-select"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-6"],["for","inlineFormdescription"],["type","text","required","","formControlName","description","id","inlineFormdescription",1,"form-control"],["for","inlineNumberPositionsLibyans"],["type","number","required","","formControlName","numberPositionsLibyans","id","inlineNumberPositionsLibyans",1,"form-control"],["for","inlineNumberPositionsForeigners"],["type","number","required","","formControlName","numberPositionsForeigners","id","inlineNumberPositionsForeigners",1,"form-control"],["formControlName","scientificQualificationId","required","","aria-label","select example",1,"form-select"],["type","button",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"click"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0648\u0638\u0627\u0626\u0641","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[3,"value"],[1,"td-actions","text-right"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"edit","mat-button",3,"click"],[1,"material-icons","text-warning"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"]],template:function(f,g){1&f&&(t.j41(0,"div",0),t.nrm(1,"app-loading")(2,"app-messages"),t.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"form",4)(7,"div",0)(8,"div",5)(9,"label",6),t.EFF(10,"\u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.nrm(11,"input",7),t.k0s(),t.j41(12,"div",5)(13,"label",8),t.EFF(14,"\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"),t.k0s(),t.nrm(15,"input",9),t.k0s(),t.j41(16,"div",5)(17,"label",10),t.EFF(18,"\t\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629"),t.k0s(),t.nrm(19,"input",11),t.k0s()(),t.j41(20,"div",0)(21,"div",5)(22,"label"),t.EFF(23,"\t\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(24,"select",12)(25,"option",13),t.EFF(26,"\u0627\u062e\u062a\u0631..."),t.k0s(),t.DNE(27,E,2,2,"option",14),t.nI1(28,"async"),t.k0s()(),t.j41(29,"div",15)(30,"label",16),t.EFF(31,"\t\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.nrm(32,"input",17),t.k0s()(),t.j41(33,"div",0)(34,"div",5)(35,"label",18),t.EFF(36,"\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u064a\u0628\u064a\u0646 "),t.k0s(),t.nrm(37,"input",19),t.k0s(),t.j41(38,"div",5)(39,"label",20),t.EFF(40,"\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u0623\u062c\u0627\u0646\u0628 "),t.k0s(),t.nrm(41,"input",21),t.k0s(),t.j41(42,"div",5)(43,"label"),t.EFF(44,"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a"),t.k0s(),t.j41(45,"select",22)(46,"option",13),t.EFF(47,"\u0627\u062e\u062a\u0631..."),t.k0s(),t.DNE(48,M,2,2,"option",14),t.nI1(49,"async"),t.k0s()()(),t.j41(50,"button",23),t.bIt("click",function(){return g.onAdd()}),t.EFF(51,"\u062d\u0641\u0638"),t.k0s(),t.j41(52,"button",24),t.bIt("click",function(){return g.onReset()}),t.EFF(53,"\u062c\u062f\u064a\u062f"),t.k0s()()()()(),t.j41(54,"div",25)(55,"app-card",26)(56,"div",27)(57,"table",28)(58,"thead")(59,"th"),t.EFF(60," \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(61,"th"),t.EFF(62," \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(63,"th"),t.EFF(64," \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"),t.k0s(),t.j41(65,"th"),t.EFF(66," \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629"),t.k0s(),t.j41(67,"th"),t.EFF(68,"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a "),t.k0s(),t.j41(69,"th"),t.EFF(70,"\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u064a\u0628\u064a\u0646"),t.k0s(),t.j41(71,"th"),t.EFF(72,"\u0639\u062f\u062f \u0627\u0644\u0645\u0646\u0627\u0635\u0628 \u0644\u0644\u0623\u062c\u0627\u0646\u0628"),t.k0s(),t.nrm(73,"th"),t.k0s(),t.j41(74,"tbody"),t.DNE(75,z,22,7,"tr",29),t.nI1(76,"async"),t.k0s()()()()()()),2&f&&(t.R7$(6),t.Y8G("formGroup",g.registerForm),t.R7$(21),t.Y8G("ngForOf",t.bMT(28,5,g.classificationBranchesFacade.JobClassification$)),t.R7$(21),t.Y8G("ngForOf",t.bMT(49,7,g.scientificQualificationsFacade.ScientificQualifications$)),t.R7$(7),t.Y8G("options",!1),t.R7$(20),t.Y8G("ngForOf",t.bMT(76,9,g.jobTitleFacade.JobTitles$)))},dependencies:[c.Sq,d.It,o.qT,o.xH,o.y7,o.me,o.Q0,o.wz,o.BC,o.cb,o.YS,o.j4,o.JD,p.q,A.y,y.i,c.Jj]})}return u})(),data:{breadcrumb:"\u0627\u0644\u0635\u0641\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629"}}];let B=(()=>{class u{static#t=this.\u0275fac=function(f){return new(f||u)};static#e=this.\u0275mod=t.$C({type:u});static#i=this.\u0275inj=t.G2t({imports:[m.iI.forChild(G),m.iI]})}return u})();var D=i(9183),I=i(1786),L=i(2298),P=i(8964),T=i(6600),N=i(2798),x=i(606),R=i(821);let k=(()=>{class u{static#t=this.\u0275fac=function(f){return new(f||u)};static#e=this.\u0275mod=t.$C({type:u});static#i=this.\u0275inj=t.G2t({providers:[s.Y,l.c,L.$,P.p,v.o,x.q,r.Z,R.w],imports:[c.MD,d.Hl,h.RG,a.fS,F.uc,o.X1,B,D.D6,I.G,T.Sy,N.Ve,y.i]})}return u})()},2298:(S,U,i)=>{i.d(U,{$:()=>O});var c=i(4412),d=i(6496),h=i(8141),a=i(3471),F=i(1025),o=i(3953),l=i(3197),m=i(8964);let O=(()=>{class b{constructor(s,r){this.sharedFacade=s,this.organizationalUnitServices=r,this.OrganizationalUnitSubject$=new c.t([]),this.OrganizationalUnit$=this.OrganizationalUnitSubject$.asObservable(),this.UnitsByDirectManagerSubject$=new c.t([]),this.UnitsByDirectManager$=this.UnitsByDirectManagerSubject$.asObservable(),this.ContentIdNextQuerySubject$=new c.t(""),this.ContentIdNextQuery$=this.ContentIdNextQuerySubject$.asObservable(),this.AllUnitsBranchingFromSpecificUnitSubject$=new c.t([]),this.AllSpecificUnit$=this.AllUnitsBranchingFromSpecificUnitSubject$.asObservable(),this.AllUnitsDepartmentSubject$=new c.t([]),this.AllDepartmentUnit$=this.AllUnitsDepartmentSubject$.asObservable(),this.OrganizationalUnitsByLevelSubject$=new c.t([]),this.UnitsByLevel0$=this.OrganizationalUnitsByLevelSubject$.asObservable(),this.OrganizationalUnitsByLevel2Subject$=new c.t([]),this.UnitsByLevel2$=this.OrganizationalUnitsByLevel2Subject$.asObservable()}deleteOrganizationalUnit(s){const r=this.organizationalUnitServices.DeleteOrganizationalUnit(s).pipe((0,h.M)(e=>{if(e.type==a.yl.Success){this.sharedFacade.showMessage(a.Go.success," \u062d\u0630\u0641 ",["\u062a\u0645 \u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d"]);const p=this.OrganizationalUnitSubject$.getValue().filter(A=>A.id!=s);this.OrganizationalUnitSubject$.next(p),this.OrganizationalUnitSubject$.subscribe()}else this.sharedFacade.showMessage(a.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetOrganizationalUnit(){const s=this.organizationalUnitServices.GetAllOrganizationalUnits(1).pipe((0,h.M)(r=>{r.type==a.yl.Success?this.OrganizationalUnitSubject$.next(r.content):(this.OrganizationalUnitSubject$.next([]),this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",r.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(s).pipe().subscribe()}GetOrganizationalUnitsByLevel(s){const r=this.organizationalUnitServices.GetOrganizationalUnitsByLevel(1,s).pipe((0,h.M)(e=>{e.type==a.yl.Success?2==s?this.OrganizationalUnitsByLevel2Subject$.next(e.content):this.OrganizationalUnitsByLevelSubject$.next(e.content):(this.OrganizationalUnitsByLevelSubject$.next([]),this.OrganizationalUnitsByLevel2Subject$.next([]),"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629"==e.messages[0]?this.sharedFacade.showMessage(a.Go.warning,"",e.messages):this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",e.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetUnitsByDirectManager(s){const r=this.organizationalUnitServices.GetUnitsByDirectManager(s).pipe((0,h.M)(e=>{e.type==a.yl.Success?this.UnitsByDirectManagerSubject$.next(e.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==e.messages[0]?this.sharedFacade.showMessage(a.Go.warning,"",e.messages):this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetOrganizationalUnitIdNextQuery(s){const r=this.organizationalUnitServices.GetOrganizationalUnitIdNextQuery(s).pipe((0,h.M)(e=>{e.type==a.yl.Success?this.ContentIdNextQuerySubject$.next(e.content):this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetAllUnitsBranchingFromSpecificUnit(s){this.AllUnitsBranchingFromSpecificUnitSubject$.next([]);const r=this.organizationalUnitServices.GetAllUnitsBranchingFromSpecificUnit(s).pipe((0,h.M)(e=>{e.type==a.yl.Success?this.AllUnitsBranchingFromSpecificUnitSubject$.next(e.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==e.messages[0]?this.sharedFacade.showMessage(a.Go.warning,"",e.messages):this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetAllUnitsDepartment(s){this.AllUnitsDepartmentSubject$.next([]),this.AllUnitsBranchingFromSpecificUnitSubject$.next([]);const r=this.organizationalUnitServices.GetAllUnitsBranchingFromSpecificUnit(s,!0).pipe((0,h.M)(e=>{e.type==a.yl.Success?this.AllUnitsDepartmentSubject$.next(e.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==e.messages[0]?this.sharedFacade.showMessage(a.Go.warning,"",e.messages):this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}AddOrganizationalUnit(s){const r=this.organizationalUnitServices.AddOrganizationalUnit(s).pipe((0,h.M)(e=>{if(e.type==a.yl.Success){this.sharedFacade.showMessage(a.Go.success,"\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d",e.messages);const v=this.OrganizationalUnitSubject$.getValue();this.OrganizationalUnitSubject$.next((0,F.jM)(v,p=>{s.id=e.content.id,s.number=e.content.number,p.unshift(s)}))}else this.sharedFacade.showMessage(a.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}UpdateOrganizationalUnit(s){const r=this.organizationalUnitServices.UpdateOrganizationalUnit(s).pipe((0,h.M)(e=>{if(e.type==a.yl.Success){this.sharedFacade.showMessage(a.Go.success,"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d",e.messages);const v=this.OrganizationalUnitSubject$.getValue();this.OrganizationalUnitSubject$.next((0,F.jM)(v,p=>{const A=p.findIndex(y=>y.id===s.id);p[A]=s,p[A].number=e.content.number})),this.OrganizationalUnitSubject$.subscribe()}else this.sharedFacade.showMessage(a.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u062a\u0639\u062f\u064a\u0644",e.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}filterOrganizationalUnits(s,r,e){const v=this.organizationalUnitServices.FilterOrganizationalUnits(s,r,e).pipe((0,h.M)(p=>{p.type==a.yl.Success?this.OrganizationalUnitSubject$.next(p.content):(this.OrganizationalUnitSubject$.next([]),this.sharedFacade.showMessage(a.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",p.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(v).pipe().subscribe()}static#t=this.\u0275fac=function(r){return new(r||b)(o.KVO(l.I),o.KVO(m.p))};static#e=this.\u0275prov=o.jDH({token:b,factory:b.\u0275fac})}return b})()},8964:(S,U,i)=>{i.d(U,{p:()=>a});var c=i(3953),d=i(1626),h=i(1441);let a=(()=>{class F{constructor(l,m){this.http=l,this.appConfig=m,this.url=this.appConfig.defaultUrl}AddOrganizationalUnit(l){return this.http.post(`${this.url}/api/AdministrativeAffairs/AddOrganizationalUnit?culture=ar-LY`,l)}UpdateOrganizationalUnit(l){return this.http.post(`${this.url}/api/AdministrativeAffairs/UpdateOrganizationalUnit?culture=ar-LY`,l)}DeleteOrganizationalUnit(l){return this.http.delete(`${this.url}/api/AdministrativeAffairs/DeleteOrganizationalUnit?Id=${l}&culture=ar-LY`)}GetUnitsByDirectManager(l){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetUnitsByDirectManager?DirectManager=${l}&culture=ar-LY`)}GetAllOrganizationalUnits(l){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetAllOrganizationalUnits?IsActive=${l}&culture=ar-LY`)}FilterOrganizationalUnits(l,m,O){return this.http.get(`${this.url}/api/AdministrativeAffairs/FilterOrganizationalUnits?culture=ar-LY`,{params:{parentId:l,Name:m,Number:O}})}GetOrganizationalUnitIdNextQuery(l){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetOrganizationalUnitIdNextQuery?ParentId=${l}&culture=ar-LY`)}GetAllUnitsBranchingFromSpecificUnit(l,m=!1){return this.http.get(`${this.url}/api/AdministrativeAffairs/FetchAllUnitsBranchingFromSpecificUnit?OrganizationalUnitNumber=${l}&departmentOnly=${m}&culture=ar-LY`)}GetOrganizationalUnitsByLevel(l,m){return this.http.get(`${this.url}/api/AdministrativeAffairs/OrganizationalUnitsByLevel?IsActive=${l}&Level=${m}&culture=ar-LY`)}static#t=this.\u0275fac=function(m){return new(m||F)(c.KVO(d.Qq),c.KVO(h.o))};static#e=this.\u0275prov=c.jDH({token:F,factory:F.\u0275fac})}return F})()}}]);