"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[2396],{2880:(h,y,l)=>{l.r(y),l.d(y,{EmployeeEvaluationManagementModule:()=>re});var v=l(177),E=l(7062),i=l(9417),_=l(4572),e=l(3953),F=l(9783),p=l(3507),c=l(2016),g=l(2702),d=l(9947),M=l(4249),G=l(3805);let S=(()=>{class t{transform(a,n){return a&&n?a.value.reduce((u,s)=>Number(u)+(Number(s[n])?Number(s[n]):0),0):0}static#e=this.\u0275fac=function(n){return new(n||t)};static#a=this.\u0275pipe=e.EJ8({name:"totalScore",type:t,pure:!1})}return t})();const f=t=>({"is-invalid":t}),T=()=>[2021,2022,2023,2024],b=t=>({active:t});function C(t,r){if(1&t&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("ngValue",a),e.R7$(),e.SpI(" ",null==a?null:a.name," ")}}function D(t,r){if(1&t){const a=e.RV6();e.j41(0,"select",15),e.bIt("change",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.onEmployeeTypeSelect())}),e.DNE(1,C,2,2,"option",16),e.k0s()}if(2&t){const a=e.XpG();e.Y8G("ngClass",e.eq3(2,f,a.evaluationForm.get("employee").invalid&&a.evaluationForm.get("employee").touched)),e.R7$(),e.Y8G("ngForOf",a.allEmployees)}}function I(t,r){1&t&&(e.j41(0,"div",18),e.EFF(1," \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u0648\u0638\u0641. "),e.k0s())}function N(t,r){if(1&t&&(e.j41(0,"option",19),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("value",a),e.R7$(),e.JRh(a)}}function k(t,r){1&t&&(e.j41(0,"div",18),e.EFF(1," \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0627\u0644\u0633\u0646\u0629. "),e.k0s())}function x(t,r){1&t&&(e.j41(0,"label",24),e.EFF(1,"\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062e\u062a\u064a\u0627\u0631 \u062a\u0642\u064a\u064a\u0645"),e.k0s())}function $(t,r){if(1&t&&(e.j41(0,"option",17),e.EFF(1),e.k0s()),2&t){const a=r.$implicit;e.Y8G("ngValue",a),e.R7$(),e.SpI(" ",null==a?null:a.name," ")}}function R(t,r){if(1&t){const a=e.RV6();e.j41(0,"select",25),e.bIt("change",function(){e.eBV(a);const o=e.XpG(2);return e.Njj(o.onEvaluationTypeSelect())}),e.DNE(1,$,2,2,"option",16),e.nI1(2,"async"),e.k0s()}if(2&t){const a=e.XpG(2);e.Y8G("ngClass",e.eq3(4,f,a.evaluationForm.get("evaluationType").invalid&&a.evaluationForm.get("evaluationType").touched)),e.R7$(),e.Y8G("ngForOf",e.bMT(2,2,a.employeeEvaluationTypes))}}function A(t,r){if(1&t&&(e.j41(0,"h5",26),e.EFF(1),e.k0s()),2&t){const a=e.XpG(2);e.R7$(),e.JRh(a.evaluationForm.get("evaluationType").value.name)}}function j(t,r){1&t&&(e.j41(0,"div",18),e.EFF(1," \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u064a\u064a\u0645. "),e.k0s())}function Y(t,r){if(1&t&&(e.j41(0,"div",20),e.DNE(1,x,2,0,"label",21)(2,R,3,6,"select",22)(3,A,2,1,"h5",23)(4,j,2,0,"div",9),e.k0s()),2&t){const a=e.XpG();e.R7$(),e.Y8G("ngIf",!a.evaluationId),e.R7$(),e.Y8G("ngIf",!a.evaluationId),e.R7$(),e.Y8G("ngIf",a.evaluationId),e.R7$(),e.Y8G("ngIf",a.evaluationForm.get("evaluationType").invalid&&a.evaluationForm.get("evaluationType").touched)}}function L(t,r){if(1&t){const a=e.RV6();e.j41(0,"li",31),e.bIt("click",function(){const o=e.eBV(a).$implicit,u=e.XpG(2);return e.Njj(u.onSelectedEvalutionItemChange(o))}),e.j41(1,"button",32),e.EFF(2),e.k0s()()}if(2&t){const a=r.$implicit,n=r.index,o=e.XpG(2);e.Y8G("formGroupName",n),e.R7$(),e.Y8G("ngClass",e.eq3(3,b,(null==o.selectedEvaluationFormGroup?null:o.selectedEvaluationFormGroup.get("evaluationItemName").value)===a.get("evaluationItemName").value)),e.R7$(),e.SpI(" ",a.get("evaluationItemName").value," ")}}function H(t,r){1&t&&(e.j41(0,"div",6),e.EFF(1," \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0639\u0644\u0649 "),e.k0s())}function O(t,r){1&t&&e.nrm(0,"input",44),2&t&&e.Y8G("readOnly",!0)}function B(t,r){if(1&t&&(e.j41(0,"div",0),e.nrm(1,"input",41)(2,"input",42),e.DNE(3,O,1,1,"input",43),e.k0s()),2&t){const a=e.XpG().$implicit,n=e.XpG(3);e.R7$(),e.Y8G("readOnly",!n.isFieldAvailable("DirectManager")||n.isDisabledField)("ngClass",e.eq3(9,f,a.get("DirectManagerScore").invalid&&a.get("DirectManagerScore").touched))("type","Text"===n.selectedEvaluationFormGroup.get("evaluationItemType").value?"text":"number")("max",a.get("maxScore").value),e.R7$(),e.Y8G("readOnly",!n.isFieldAvailable("HigherLevelManager")||n.isDisabledField)("type","Text"===n.selectedEvaluationFormGroup.get("evaluationItemType").value?"text":"number")("ngClass",e.eq3(11,f,a.get("HigherLevelManagerScore").invalid&&a.get("HigherLevelManagerScore").touched))("max",a.get("maxScore").value),e.R7$(),e.Y8G("ngIf","Number"===n.selectedEvaluationFormGroup.get("evaluationItemType").value)}}function X(t,r){if(1&t&&e.EFF(0),2&t){const a=e.XpG().$implicit;e.SpI(" ",a.get("elementName").value," ")}}function U(t,r){if(1&t&&e.EFF(0),2&t){const a=e.XpG().$implicit;e.SpI(" ",a.get("maxScore").value," ")}}function V(t,r){if(1&t&&e.EFF(0),2&t){const a=e.XpG().$implicit;e.SpI(" ",a.get("elementName").value," ")}}function P(t,r){if(1&t&&e.EFF(0),2&t){const a=e.XpG().$implicit;e.SpI(" ",a.get("maxScore").value," ")}}function w(t,r){if(1&t&&(e.j41(0,"div",0)(1,"div",45),e.nrm(2,"input",46),e.j41(3,"label",47),e.DNE(4,X,1,1)(5,U,1,1),e.k0s()(),e.j41(6,"div",45),e.nrm(7,"input",48),e.j41(8,"label",47),e.DNE(9,V,1,1)(10,P,1,1),e.k0s()()()),2&t){const a=r.$implicit,n=r.$index,o=e.XpG(2).index,u=e.XpG(3);e.R7$(2),e.Y8G("id",n+""+o+"DirectManagerScore")("value","Boolean"===u.selectedEvaluationFormGroup.get("evaluationItemType").value?a.get("elementName").value:a.get("maxScore").value),e.R7$(),e.Y8G("for",n+""+o+"DirectManagerScore"),e.R7$(),e.vxM("Boolean"===u.selectedEvaluationFormGroup.get("evaluationItemType").value?4:5),e.R7$(3),e.Y8G("id",n+""+o+"HigherLevelManagerScore")("value","Boolean"===u.selectedEvaluationFormGroup.get("evaluationItemType").value?a.get("elementName").value:a.get("maxScore").value),e.R7$(),e.Y8G("for",n+""+o+"HigherLevelManagerScore"),e.R7$(),e.vxM("Boolean"===u.selectedEvaluationFormGroup.get("evaluationItemType").value?9:10)}}function J(t,r){if(1&t&&e.Z7z(0,w,11,8,"div",0,e.Vm6),2&t){const a=e.XpG(4);e.Dyx(a.getFormArray(a.selectedEvaluationFormGroup.get("scores")).controls)}}function q(t,r){if(1&t&&(e.j41(0,"div",40)(1,"div",35),e.EFF(2),e.k0s(),e.j41(3,"div",6),e.DNE(4,B,4,13,"div",0)(5,J,2,0),e.k0s()()),2&t){const a=r.$implicit,n=r.index,o=e.XpG(3);e.Y8G("formGroupName",n),e.R7$(2),e.JRh(a.get("elementName").value),e.R7$(2),e.vxM("Number"===o.selectedEvaluationFormGroup.get("evaluationItemType").value||"Text"===o.selectedEvaluationFormGroup.get("evaluationItemType").value?4:5)}}function K(t,r){if(1&t&&(e.j41(0,"div",0)(1,"h3",35)(2,"strong"),e.EFF(3,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639"),e.k0s()(),e.j41(4,"div",6)(5,"div",0),e.nrm(6,"input",49),e.nI1(7,"totalScore"),e.nrm(8,"input",50),e.nI1(9,"totalScore"),e.nrm(10,"input",51),e.nI1(11,"totalScore"),e.k0s()()()),2&t){const a=e.XpG(3);e.R7$(6),e.Y8G("value",e.i5U(7,3,a.getFormArray(a.selectedEvaluationFormGroup.get("scores")),"DirectManagerScore")),e.R7$(2),e.Y8G("value",e.i5U(9,6,a.getFormArray(a.selectedEvaluationFormGroup.get("scores")),"HigherLevelManagerScore")),e.R7$(2),e.Y8G("value",e.i5U(11,9,a.getFormArray(a.selectedEvaluationFormGroup.get("scores")),"maxScore"))}}function z(t,r){if(1&t&&(e.j41(0,"div",33)(1,"app-card",34)(2,"div",0),e.nrm(3,"div",35),e.j41(4,"div",6)(5,"div",0)(6,"div",6),e.EFF(7,"\u0627\u0644\u0631\u0626\u064a\u0633 \u0627\u0644\u0645\u0628\u0627\u0634\u0631"),e.k0s(),e.j41(8,"div",6),e.EFF(9,"\u0627\u0644\u0631\u0626\u064a\u0633 \u0627\u0644\u0623\u0639\u0644\u0649"),e.k0s(),e.DNE(10,H,2,0,"div",36),e.k0s()()(),e.j41(11,"div",37),e.DNE(12,q,6,3,"div",38)(13,K,12,12,"div",39),e.k0s()()()),2&t){const a=e.XpG(2);e.Y8G("formGroup",a.selectedEvaluationFormGroup),e.R7$(),e.Y8G("cardTitle",a.selectedEvaluationFormGroup.get("evaluationItemName").value)("options",!1),e.R7$(9),e.Y8G("ngIf","Number"===a.selectedEvaluationFormGroup.get("evaluationItemType").value),e.R7$(2),e.Y8G("ngForOf",a.getFormArray(a.selectedEvaluationFormGroup.get("scores")).controls),e.R7$(),e.Y8G("ngIf","Number"===a.selectedEvaluationFormGroup.get("evaluationItemType").value)}}function W(t,r){if(1&t&&(e.j41(0,"div",52)(1,"app-card",53)(2,"div",54),e.nrm(3,"input",55),e.j41(4,"label",56),e.EFF(5,"\u0627\u0644\u0631\u0626\u064a\u0633 \u0627\u0644\u0645\u0628\u0627\u0634\u0631"),e.k0s()(),e.j41(6,"div",57),e.nrm(7,"input",58),e.j41(8,"label",59),e.EFF(9,"\u0627\u0644\u0631\u0626\u064a\u0633 \u0627\u0644\u0623\u0639\u0644\u0649"),e.k0s()(),e.j41(10,"div",60),e.nrm(11,"input",61),e.j41(12,"label",62),e.EFF(13,"\u0645\u062f\u064a\u0631 \u0627\u0644\u0625\u062f\u0627\u0631\u0629"),e.k0s()(),e.j41(14,"div",63),e.nrm(15,"input",64),e.j41(16,"label",65),e.EFF(17,"\u0634\u0624\u0648\u0646 \u0627\u0644\u0639\u0627\u0645\u0644\u064a\u0646"),e.k0s()(),e.j41(18,"div",66)(19,"h5"),e.EFF(20,"\u0627\u0644\u0645\u062c\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064a"),e.k0s(),e.j41(21,"div",67),e.nrm(22,"input",68),e.nI1(23,"sumAllScores"),e.nrm(24,"input",68),e.nI1(25,"sumLargestScores"),e.k0s()()()()),2&t){const a=e.XpG(2);e.R7$(),e.Y8G("options",!1),e.R7$(21),e.Y8G("value",e.i5U(23,3,a.getFormArray(a.evaluationForm.get("evaluationScores")),"maxScore")),e.R7$(2),e.Y8G("value",e.bMT(25,6,a.getFormArray(a.evaluationForm.get("evaluationScores"))))}}function Q(t,r){if(1&t&&(e.j41(0,"div",20)(1,"ul",27),e.DNE(2,L,3,5,"li",28),e.k0s(),e.DNE(3,z,14,6,"div",29)(4,W,26,8,"div",30),e.k0s()),2&t){const a=e.XpG();e.R7$(2),e.Y8G("ngForOf",a.getFormArray(a.evaluationForm.get("evaluationScores")).controls),e.R7$(),e.Y8G("ngIf",a.selectedEvaluationFormGroup),e.R7$(),e.Y8G("ngIf",a.getFormArray(a.evaluationForm.get("evaluationScores")).length)}}const Z=[{path:"",component:(()=>{class t{constructor(a,n,o){this.showEmployeeEvaluationTypeFacade=a,this.employeeEvaluationManagementFacade=n,this.fb=o,this.subscriptions=[],this.isDisabledField=!0}onSelectedEvalutionItemChange(a){this.selectedEvaluationFormGroup=a,this.setActiveFields()}ngOnInit(){this.showEmployeeEvaluationTypeFacade.fetchEmployeeEvaluationTypes(),this.employeeEvaluationManagementFacade.GetEmployeesGroupedByManagerType(),this.evaluationForm=this.fb.group({employee:["",i.k0.required],evaluationType:["",i.k0.required],year:[null,i.k0.required],evaluationScores:this.fb.array([]),approvals:this.fb.group({DirectManager:this.fb.group({status:[{value:!1,disabled:!0},i.k0.required],approvedDate:[null]}),HigherLevelManager:this.fb.group({status:[{value:!1,disabled:!0},i.k0.required],approvedDate:[null]}),DepartmentManager:this.fb.group({status:[{value:!1,disabled:!0},i.k0.required],approvedDate:[null]}),PersonnelAffairs:this.fb.group({status:[{value:!1,disabled:!0},i.k0.required],approvedDate:[null]})})}),this.employeeEvaluationManagementFacade.groupedEmployeesByManager$.subscribe(a=>{this.groupedEmployeesByManager=a,this.allEmployees=[...a?.employees?.DepartmentManager?a?.employees?.DepartmentManager:[],...a?.employees?.HigherLevelManager?a?.employees?.HigherLevelManager:[],...a?.employees?.DirectManager?a?.employees?.DirectManager:[]]}),(0,_.z)([this.employeeEvaluationManagementFacade.selectedEmployeeEvaluation$,this.employeeEvaluationTypes]).subscribe(([a,n])=>{let o=[];if(a&&n){const u=n.find(s=>s.id===a.evaluationScores.evaluationType.id);this.evaluationForm.get("evaluationType").setValue(u),o=a.evaluationScores.evaluationScores.map(s=>this.fb.group({evaluationItemName:[s.evaluationItemName,i.k0.required],evaluationItemType:[s.evaluationItemType,i.k0.required],scores:this.fb.array(s.scores.map(m=>this.fb.group({elementName:[m.elementName,i.k0.required],DirectManagerScore:[m.DirectManagerScore,this.getValidation(s.evaluationItemType,m.maxScore)],HigherLevelManagerScore:[m.HigherLevelManagerScore,this.getValidation(s.evaluationItemType,m.maxScore)],maxScore:[m.maxScore]})))})),this.evaluationForm.get("approvals").patchValue(a.evaluationScores.approvals),this.evaluationId=a.id}else this.evaluationId=void 0,this.evaluationForm.get("evaluationType").setValue(void 0),this.evaluationForm.get("approvals").patchValue({DirectManager:{status:!1,approvedDate:null},HigherLevelManager:{status:!1,approvedDate:null},DepartmentManager:{status:!1,approvedDate:null},PersonnelAffairs:{status:!1,approvedDate:null}});this.selectedEvaluationFormGroup=void 0,this.evaluationForm.setControl("evaluationScores",this.fb.array(o)),this.setActiveFields()})}get employeeEvaluationTypes(){return this.showEmployeeEvaluationTypeFacade.employeeEvaluationTypes$}get selectedEvalutionType(){return this.evaluationForm.get("evaluationType")?.value}onEmployeeTypeSelect(){const a=this.evaluationForm.get("employee")?.value,n=this.evaluationForm.get("year")?.value;this.groupedEmployeesByManager&&(this.groupedEmployeesByManager?.employees?.DirectManager&&this.groupedEmployeesByManager.employees.DirectManager.find(o=>o.id===a.id)?this.currentEmployeeRelationshipToSignInUserType="DirectManager":this.groupedEmployeesByManager?.employees?.DepartmentManager&&this.groupedEmployeesByManager.employees.DepartmentManager.find(o=>o.id===a.id)?this.currentEmployeeRelationshipToSignInUserType="DepartmentManager":this.groupedEmployeesByManager?.employees?.HigherLevelManager&&this.groupedEmployeesByManager.employees.HigherLevelManager.find(o=>o.id===a.id)&&(this.currentEmployeeRelationshipToSignInUserType="HigherLevelManager"),this.setActiveFields()),n&&a&&this.employeeEvaluationManagementFacade.GetEmployeeEvaluation(a.id,n)}onYearSelect(){const a=this.evaluationForm.get("year")?.value,n=this.evaluationForm.get("employee")?.value;a&&n&&this.employeeEvaluationManagementFacade.GetEmployeeEvaluation(n.id,a)}onEvaluationTypeSelect(){const a=this.evaluationForm.get("evaluationType")?.value;if(!a)return;this.selectedEvaluationFormGroup=null;const n=a.evaluationData.EvaluationItems.map(o=>this.fb.group({evaluationItemName:[o.ItemName,i.k0.required],evaluationItemType:[o.type,i.k0.required],scores:this.fb.array(o.Elements.map(u=>this.fb.group({elementName:[u.ElementName,i.k0.required],DirectManagerScore:[0,this.getValidation(o.type,u.Value)],HigherLevelManagerScore:[0,this.getValidation(o.type,u.Value)],maxScore:[u.Value]})))}));this.evaluationForm.setControl("evaluationScores",this.fb.array(n||[]))}getValidation(a,n=1/0){return"Number"===a?[i.k0.required,i.k0.max(n),i.k0.min(0)]:"Text"===a?[i.k0.required]:"Range"===a?[i.k0.required,i.k0.pattern(/^\d+\s*-\s*\d+$/)]:[]}onSubmit(){if(this.evaluationForm.valid){this.evaluationForm.get("approvals").get(this.currentEmployeeRelationshipToSignInUserType).get("approvedDate").setValue(new Date);const a=this.evaluationForm.getRawValue();if(this.evaluationForm.get("evaluationScores").untouched){if(!confirm("\u0644\u0645 \u062a\u0642\u0645 \u0628\u062a\u063a\u064a\u0631 \u0627\u064a \u0642\u064a\u0645\u0629 \u0641\u064a \u0627\u064a \u062d\u0642\u0644, \u0645\u062a\u0627\u0628\u0639\u0629\u061f"))return;this.addUpdateNewEvaluation(a)}else this.addUpdateNewEvaluation(a)}else alert("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0642\u064a\u0645 \u0627\u0644\u0645\u0637\u0644\u0648\u0628\u0629")}addUpdateNewEvaluation(a){const n=this.calculateTotalLargerScore(a)/this.sumEvaluationScores(a,"maxScore")*100,o={employeeId:a.employee.id,year:a.year,isApproved:this.getIsApprovedValue(a),totalScore:this.calculateTotalLargerScore(a),percentage:+n.toFixed(3),evaluationId:this.calculateEvaluationId(n),evaluationTypeId:a.evaluationType.id,evaluationDate:(new Date).toISOString(),evaluationScores:a};console.log(o),this.evaluationId?this.employeeEvaluationManagementFacade.updateEmployeeEvaluation({...o,id:this.evaluationId}):this.employeeEvaluationManagementFacade.AddEmployeeEvaluation(o)}getFormArray(a){return a}setActiveFields(){const a=this.evaluationForm.get("approvals").getRawValue(),n=()=>a.HigherLevelManager.status||a.DepartmentManager.status||a.PersonnelAffairs.status,o=(u,s)=>{const m=this.evaluationForm.get("approvals").get(u);s?m.disable({onlySelf:!0,emitEvent:!1}):m.enable({onlySelf:!0,emitEvent:!1}),this.isDisabledField=s};switch(this.currentEmployeeRelationshipToSignInUserType){case"DirectManager":o("DirectManager",n());break;case"HigherLevelManager":o("HigherLevelManager",n());break;case"DepartmentManager":o("DepartmentManager",n());break;default:console.warn("Unknown manager type:",this.currentEmployeeRelationshipToSignInUserType)}}calculateTotalLargerScore(a){return a.evaluationScores.filter(n=>"Number"===n.evaluationItemType).reduce((n,o)=>n+o.scores.reduce((s,m)=>s+Math.max(m.DirectManagerScore,m.HigherLevelManagerScore),0),0)}getIsApprovedValue(a){return a.approvals.PersonnelAffairs.status?4:a.approvals.DepartmentManager.status?3:a.approvals.HigherLevelManager.status?2:a.approvals.DirectManager.status?1:0}sumEvaluationScores(a,n){return a&&a.evaluationScores?a.evaluationScores.filter(o=>"Number"===o.evaluationItemType).reduce((o,u)=>o+u.scores.reduce((s,m)=>s+(m[n]||0),0),0):0}calculateEvaluationId(a){return a>90?1:a>75?2:a>60?3:a>45?4:5}isFieldAvailable(a){return{DirectManager:["DirectManager","DepartmentManager"],HigherLevelManager:["HigherLevelManager","DepartmentManager"],DepartmentManager:["DirectManager","HigherLevelManager","DepartmentManager"]}[a]?.includes(this.currentEmployeeRelationshipToSignInUserType)||!1}ngOnDestroy(){}static#e=this.\u0275fac=function(n){return new(n||t)(e.rXU(F.M),e.rXU(p.o),e.rXU(i.ok))};static#a=this.\u0275cmp=e.VBU({type:t,selectors:[["app-employee-evaluation-management"]],decls:24,vars:12,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"form-group","row"],[1,"col-sm-4"],["for","employee"],["formControlName","employee","class","form-select",3,"ngClass","change",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],["for","year"],["formControlName","year",1,"form-select",3,"change","ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["type","submit",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"disabled"],["formControlName","employee",1,"form-select",3,"change","ngClass"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"invalid-feedback"],[3,"value"],[1,"form-group"],["for","evaluationType",4,"ngIf"],["formControlName","evaluationType","class","form-select",3,"ngClass","change",4,"ngIf"],["style","font-weight: bold",4,"ngIf"],["for","evaluationType"],["formControlName","evaluationType",1,"form-select",3,"change","ngClass"],[2,"font-weight","bold"],["formArrayName","evaluationScores","id","myTab","role","tablist",1,"nav","nav-tabs"],["class","nav-item","role","presentation",3,"formGroupName","click",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["formGroupName","approvals",4,"ngIf"],["role","presentation",1,"nav-item",3,"click","formGroupName"],["type","button","role","tab",1,"nav-link",3,"ngClass"],[3,"formGroup"],["blockClass","table-border-style",3,"cardTitle","options"],[1,"col-sm-8"],["class","col-sm-4",4,"ngIf"],["formArrayName","scores",1,"row","gap-2"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"row",3,"formGroupName"],["formControlName","DirectManagerScore","name","DirectManagerScore","min","0",1,"col-sm-4","scoreBox",3,"readOnly","ngClass","type","max"],["formControlName","HigherLevelManagerScore","name","HigherLevelManagerScore","min","0",1,"col-sm-4","scoreBox",3,"readOnly","type","ngClass","max"],["formControlName","maxScore","type","number","name","maxScore","class","col-sm-4 scoreBox",3,"readOnly",4,"ngIf"],["formControlName","maxScore","type","number","name","maxScore",1,"col-sm-4","scoreBox",3,"readOnly"],[1,"d-flex","gap-1","col-sm-4"],["type","radio","formControlName","DirectManagerScore",1,"form-check-input",3,"id","value"],[1,"form-check-label",3,"for"],["type","radio","formControlName","HigherLevelManagerScore",1,"form-check-input",3,"id","value"],["disabled","","name","DirectManagerScore",1,"col-sm-4","scoreBox",3,"value"],["disabled","","name","HigherLevelManagerScore",1,"col-sm-4","scoreBox",3,"value"],["disabled","","name","maxScore",1,"col-sm-4","scoreBox",3,"value"],["formGroupName","approvals"],["form","","cardTitle","\u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a","blockClass","table-border-style",3,"options"],["formGroupName","DirectManager",1,"form-check"],["formControlName","status","type","checkbox","id","directManagerStatus",1,"form-check-input"],["for","directManagerStatus",1,"form-check-label"],["formGroupName","HigherLevelManager",1,"form-check"],["formControlName","status","type","checkbox","id","HigherLevelManagerStatus",1,"form-check-input"],["for","HigherLevelManagerStatus",1,"form-check-label"],["formGroupName","DepartmentManager",1,"form-check"],["formControlName","status","type","checkbox","id","DepartmentManagerStatus",1,"form-check-input"],["for","DepartmentManagerStatus",1,"form-check-label"],["formGroupName","PersonnelAffairs",1,"form-check"],["formControlName","status","type","checkbox","id","personnelAffairsStatus",1,"form-check-input"],["for","personnelAffairsStatus",1,"form-check-label"],[1,"d-flex","gap-2","mt-4"],[1,"d-flex","gap-1"],["disabled","","type","number",3,"value"]],template:function(n,o){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-loading")(2,"app-messages"),e.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"form",4),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(7,"div",5)(8,"div",6)(9,"label",7),e.EFF(10,"\u0627\u0644\u0645\u0648\u0638\u0641"),e.k0s(),e.DNE(11,D,2,4,"select",8)(12,I,2,0,"div",9),e.k0s(),e.j41(13,"div",6)(14,"label",10),e.EFF(15,"\u0627\u0644\u0633\u0646\u0629"),e.k0s(),e.j41(16,"select",11),e.bIt("change",function(){return o.onYearSelect()}),e.DNE(17,N,2,2,"option",12),e.k0s(),e.DNE(18,k,2,0,"div",9),e.k0s()(),e.DNE(19,Y,5,4,"div",13)(20,Q,5,3,"div",13),e.j41(21,"button",14),e.EFF(22," \u062d\u0641\u0638 "),e.k0s()()()()(),e.nrm(23,"div",1),e.k0s()),2&n&&(e.R7$(6),e.Y8G("formGroup",o.evaluationForm),e.R7$(5),e.Y8G("ngIf",!!o.groupedEmployeesByManager),e.R7$(),e.Y8G("ngIf",o.evaluationForm.get("employee").invalid&&o.evaluationForm.get("employee").touched),e.R7$(4),e.Y8G("ngClass",e.eq3(9,f,o.evaluationForm.get("year").invalid&&o.evaluationForm.get("year").touched)),e.R7$(),e.Y8G("ngForOf",e.lJ4(11,T)),e.R7$(),e.Y8G("ngIf",o.evaluationForm.get("year").invalid&&o.evaluationForm.get("year").touched),e.R7$(),e.Y8G("ngIf",o.evaluationForm.get("employee").value),e.R7$(),e.Y8G("ngIf",o.selectedEvalutionType&&o.evaluationForm.get("employee").value),e.R7$(),e.Y8G("disabled",!o.evaluationForm.valid||o.evaluationForm.untouched))},dependencies:[v.YU,v.Sq,v.bT,i.qT,i.xH,i.y7,i.me,i.Q0,i.Zm,i.wz,i.Fm,i.BC,i.cb,i.j4,i.JD,i.$R,i.v8,c.q,g.y,d.i,v.Jj,M.m,G.V,S],styles:[".is-invalid[_ngcontent-%COMP%]{border-color:red;border-width:3px}input[disabled][_ngcontent-%COMP%]{pointer-events:none!important;opacity:.6!important}"]})}return t})(),data:{breadcrumb:"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a"}}];let ee=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#a=this.\u0275mod=e.$C({type:t});static#t=this.\u0275inj=e.G2t({imports:[E.iI.forChild(Z),E.iI]})}return t})();var ae=l(6881),te=l(1786),oe=l(4823),ne=l(9631),ie=l(8834);let re=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#a=this.\u0275mod=e.$C({type:t});static#t=this.\u0275inj=e.G2t({providers:[ae.E,p.o],imports:[v.MD,ee,i.X1,te.G,i.YN,d.i,oe.uc,ne.fS,ie.Hl]})}return t})()},8655:(h,y,l)=>{l.d(y,{U:()=>_});var v=l(3953),E=l(1626),i=l(1441);let _=(()=>{class e{constructor(p,c){this.http=p,this.appConfig=c,this.url=this.appConfig.defaultUrl}GetEmployee(p,c,g="ar-LY"){const d={culture:g};return p&&(d.SearchType=p),c&&(d.Value=c),this.http.get(`${this.url}/api/Employee/GetAllEmployee`,{params:d})}GetEmployeeSmallObject(p,c="ar-LY"){const g={culture:c};return p&&(g.Name=p),this.http.get(`${this.url}/api/Employee/GetEmployees`,{params:g})}static#e=this.\u0275fac=function(c){return new(c||e)(v.KVO(E.Qq),v.KVO(i.o))};static#a=this.\u0275prov=v.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);