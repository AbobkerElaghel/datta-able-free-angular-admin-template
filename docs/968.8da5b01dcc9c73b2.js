"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[968],{6968:(C,a,o)=>{o.r(a),o.d(a,{EmployeeModule:()=>v});var u=o(177),l=o(7062),r=o(9417),e=o(3953),d=o(2356),h=o(2016),p=o(2702),m=o(9947),c=o(8834);function F(s,b){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td",6)(12,"a",7),e.bIt("click",function(){const n=e.eBV(t).$implicit,R=e.XpG();return e.Njj(R.onDelete(n.id))}),e.j41(13,"i",8),e.EFF(14,"close"),e.k0s()()()()}if(2&s){const t=b.$implicit;e.R7$(2),e.JRh(t.employeeCode),e.R7$(2),e.JRh(t.positionCode),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.nameEn),e.R7$(2),e.JRh(t.financialNumber)}}const f=[{path:"",component:(()=>{class s{constructor(t,i,n){this.employeeFacade=t,this.fb=i,this.cdr=n,this.edit=!1,this.selectedPermissionIds=[],this.registerForm=this.fb.group({id:[""],name:["",r.k0.required],permissions:[this.selectedPermissionIds,r.k0.required]}),this.Object=Object,this.onSubmit()}ngOnInit(){this.edit=!1}isSelected(t){return this.selectedPermissionIds.includes(t)}onCheckboxChange(t,i){if(t.checked)this.selectedPermissionIds.push(i);else{const n=this.selectedPermissionIds.indexOf(i);-1!==n&&this.selectedPermissionIds.splice(n,1)}this.registerForm.controls.permissions.setValue(this.selectedPermissionIds)}onSubmit(){this.registerForm.controls.id.setValue(""),this.employeeFacade.GetEmployee()}onDelete(t){this.edit=!1,this.employeeFacade.deleteEmployee(t),this.registerForm.reset()}onReset(){this.edit=!1,this.registerForm.reset(),this.registerForm.setErrors(null)}onAdd(){if(this.registerForm.valid)return this.employeeFacade.UpdateEmployee(this.registerForm?.value),void this.onReset()}onEdit(t){this.selectedPermissionIds=[],Object.keys(t.permissions).forEach(i=>{t.permissions[i].forEach(n=>{this.selectedPermissionIds.push(n.id)})}),this.registerForm.patchValue(t),this.edit=!0}static#e=this.\u0275fac=function(i){return new(i||s)(e.rXU(d.n),e.rXU(r.ok),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-employee"]],decls:22,vars:4,consts:[[1,"row"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646 ","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[1,"td-actions","text-right"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.nrm(1,"app-loading")(2,"app-messages"),e.j41(3,"div",1)(4,"app-card",2)(5,"div",3)(6,"table",4)(7,"thead")(8,"th"),e.EFF(9,"\u0631\u0645\u0632 \u0627\u0644\u0645\u0648\u0638\u0641"),e.k0s(),e.j41(10,"th"),e.EFF(11,"\u0631\u0645\u0632 \u0627\u0644\u0645\u0646\u0635\u0628"),e.k0s(),e.j41(12,"th"),e.EFF(13,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641 \u0628\u0627\u0644\u0639\u0631\u0628\u064a"),e.k0s(),e.j41(14,"th"),e.EFF(15,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641 \u0628\u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a"),e.k0s(),e.j41(16,"th"),e.EFF(17,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0627\u0644\u064a"),e.k0s(),e.nrm(18,"th"),e.k0s(),e.j41(19,"tbody"),e.DNE(20,F,15,5,"tr",5),e.nI1(21,"async"),e.k0s()()()()()()),2&i&&(e.R7$(4),e.Y8G("options",!1),e.R7$(16),e.Y8G("ngForOf",e.bMT(21,2,n.employeeFacade.employeeSubject$)))},dependencies:[u.Sq,h.q,p.y,m.i,c.It,u.Jj]})}return s})(),data:{breadcrumb:"\u0627\u0644\u0645\u0635\u0627\u0631\u0641"}}];let y=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.$C({type:s});static#s=this.\u0275inj=e.G2t({imports:[l.iI.forChild(f),l.iI]})}return s})();var E=o(5842),g=o(1786),j=o(3719);let v=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.$C({type:s});static#s=this.\u0275inj=e.G2t({providers:[d.n,E.v],imports:[u.MD,y,r.X1,g.G,j.RG,m.i,c.Hl]})}return s})()}}]);