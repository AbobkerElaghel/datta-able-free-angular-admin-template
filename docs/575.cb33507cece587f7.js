"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[575],{643:(A,v,d)=>{d.d(v,{y:()=>F});var e=d(4412),b=d(6496),h=d(8141),n=d(3471),k=d(1025),y=d(3953),l=d(3197),x=d(6401);let F=(()=>{class p{constructor(i,r){this.sharedFacade=i,this.permissionServices=r,this.AllGroupSubject$=new e.t([]),this.AllGroup$=this.AllGroupSubject$.asObservable(),this.GroupsMenuSubject$=new e.t([]),this.GroupsMenu$=this.GroupsMenuSubject$.asObservable(),this.permissionSubject$=new e.t({}),this.permission$=this.permissionSubject$.asObservable()}deleteGroup(i){const r=this.permissionServices.DeleteGroup(i).pipe((0,h.M)(m=>{if(m.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success," \u062d\u0630\u0641 \u0645\u062c\u0645\u0648\u0639\u0629",["\u062a\u0645 \u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d"]);const u=this.AllGroupSubject$.getValue().filter(C=>C.id!=i);this.AllGroupSubject$.next(u),this.AllGroupSubject$.subscribe()}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641",m.messages)}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetAllGroup(){const i=this.permissionServices.GetAllGroup().pipe((0,h.M)(r=>{r.type==n.yl.Success?this.AllGroupSubject$.next(r.content):(this.AllGroupSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",r.messages))}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(i).pipe().subscribe()}AddGroup(i){const r=this.permissionServices.AddGroup(i).pipe((0,h.M)(m=>{if(m.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success,"\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d",m.messages);const f=this.AllGroupSubject$.getValue();this.AllGroupSubject$.next((0,k.jM)(f,u=>{i.id=m.content.id,i.permissions=m.content.permissions,u.unshift(i)}))}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",m.messages)}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}UpdateGroup(i){const r=this.permissionServices.UpdateGroup(i).pipe((0,h.M)(m=>{if(m.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success,"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d",m.messages);const f=this.AllGroupSubject$.getValue();this.AllGroupSubject$.next((0,k.jM)(f,u=>{const C=u.findIndex(M=>M.id===i.id);i.permissions=m.content.permissions,u[C]=i})),this.AllGroupSubject$.subscribe()}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u062a\u0639\u062f\u064a\u0644",m.messages)}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetGroupDataById(i){const r=this.permissionServices.GetGroupDataById(i).pipe((0,h.M)(m=>{m.type==n.yl.Success?this.AllGroupSubject$.next(m.content):(this.AllGroupSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",m.messages))}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(r).pipe().subscribe()}GetGroupsMenu(){const i=this.permissionServices.GetGroupsMenu(1).pipe((0,h.M)(r=>{r.type==n.yl.Success?this.GroupsMenuSubject$.next(r.content):(this.GroupsMenuSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a",r.messages))}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(i).pipe().subscribe()}GetAllPermission(){const i=this.permissionServices.GetAllPermission().pipe((0,h.M)(r=>{r.type==n.yl.Success?this.permissionSubject$.next(r.content):(this.permissionSubject$.next({}),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0635\u0644\u0627\u062d\u064a\u0627\u062a",r.messages))}),(0,b.t)());this.sharedFacade.showLoaderUntilCompleted(i).pipe().subscribe()}static#e=this.\u0275fac=function(r){return new(r||p)(y.KVO(l.I),y.KVO(x.g))};static#c=this.\u0275prov=y.jDH({token:p,factory:p.\u0275fac})}return p})()},6401:(A,v,d)=>{d.d(v,{g:()=>n});var e=d(3953),b=d(1626),h=d(1441);let n=(()=>{class k{constructor(l,x){this.http=l,this.appConfig=x,this.url=this.appConfig.defaultUrl}AddPermission(l){return this.http.post(`${this.url}/api/Groups/AddPermission?culture=ar-LY`,l)}AddGroup(l){return this.http.post(`${this.url}/api/Groups/AddGroup?culture=ar-LY`,l)}UpdateGroup(l){return this.http.put(`${this.url}/api/Groups/UpdateGroup?culture=ar-LY`,l)}DeleteGroup(l){return this.http.delete(`${this.url}/api/Groups/DeleteGroup?Id=${l}&culture=ar-LY`)}GetGroupsMenu(l){return this.http.get(`${this.url}/api/Groups/GetGroupsMenu?IsActive=${l}&culture=ar-LY`)}GetAllGroup(){return this.http.get(`${this.url}/api/Groups/GetAllGroup?culture=ar-LY`)}GetAllPermission(){return this.http.get(`${this.url}/api/Groups/GetAllPermisstion?culture=ar-LY`)}GetGroupDataById(l){return this.http.get(`${this.url}/api/Groups/GetGroupDataById?Id=${l}&culture=ar-LY`)}static#e=this.\u0275fac=function(x){return new(x||k)(e.KVO(b.Qq),e.KVO(h.o))};static#c=this.\u0275prov=e.jDH({token:k,factory:k.\u0275fac})}return k})()},2765:(A,v,d)=>{d.d(v,{g7:()=>T});var e=d(3953),h=(d(9417),d(6600));d(4085);let G=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#c=this.\u0275mod=e.$C({type:a});static#o=this.\u0275inj=e.G2t({})}return a})(),T=(()=>{class a{static#e=this.\u0275fac=function(o){return new(o||a)};static#c=this.\u0275mod=e.$C({type:a});static#o=this.\u0275inj=e.G2t({imports:[h.yE,h.pZ,G,h.yE,G]})}return a})()}}]);
