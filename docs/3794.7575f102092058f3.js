"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[3794],{2208:(S,j,s)=>{s.d(j,{Gu:()=>_,HH:()=>D,PE:()=>g,QJ:()=>f,Ql:()=>v,Sq:()=>u,UH:()=>r,VF:()=>h,Vy:()=>m,a8:()=>b,ez:()=>F,lP:()=>d,oz:()=>c,r9:()=>e});let m=[{value:!0,label:"\u0646\u0639\u0645"},{value:!1,label:"\u0644\u0627"}],f=[{value:"A",label:"\u0639\u0644\u064a\u0627"},{value:"B",label:"\u062a\u0646\u0641\u064a\u0630\u064a\u0647"},{value:"C",label:"\u0623\u0633\u0627\u0633\u064a\u0629"}],b=[{value:1,label:"\u0630\u0643\u0631"},{value:2,label:"\u0627\u0646\u062b\u064a"}],c=[{value:1,label:"\u0645\u0633\u062a\u062e\u062f\u0645"},{value:2,label:"\u0645\u062f\u064a\u0631 \u0625\u062f\u0627\u0631\u0629"},{value:3,label:"\u0631\u0626\u064a\u0633 \u0642\u0633\u0645"},{value:4,label:"\u0631\u0626\u064a\u0633 \u0648\u062d\u062f\u0629"},{value:5,label:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645"},{value:6,label:"\u0645\u062f\u064a\u0631 \u0645\u0643\u062a\u0628"}],g=[{value:1,label:"\u0645\u0645\u062a\u0627\u0632"},{value:2,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:3,label:"\u062c\u064a\u062f"},{value:4,label:"\u0645\u062a\u0648\u0633\u0637 "},{value:5,label:"\u0636\u0639\u064a\u0641 "},{value:6,label:"\u0625\u064a\u0641\u0627\u062f "},{value:7,label:"\u0644\u0627\u064a\u0648\u062c\u062f "}],r=[{value:1,label:"\u0623\u0639\u0632\u0628"},{value:2,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u0644\u0627\u064a\u0639\u0648\u0644"},{value:3,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u064a\u0639\u0648\u0644"}],h=[{value:1,label:"\u0645\u0646\u0633\u0628"},{value:2,label:"\u062a\u0639\u064a\u064a\u0646"},{value:3,label:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"},{value:4,label:"\u0646\u0642\u0644"},{value:6,label:"\u062a\u0639\u064a\u064a\u0646 \u0628\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"}],F=[{value:1,label:"\u062f\u0627\u062e\u0644"},{value:2,label:"\u062e\u0627\u0631\u062c"}],D=[{value:1,label:"\u0623\u0645"},{value:2,label:"\u0623\u0628"},{value:3,label:"\u0632\u0648\u062c\u0629_\u0632\u0648\u062c"},{value:4,label:"\u0627\u0628\u0646"},{value:5,label:"\u0627\u0628\u0646\u0629"}],v=[{value:"49",label:"\u0627\u0644\u062f\u064a\u0646\u0627\u0631_\u0627\u0644\u0644\u064a\u0628\u064a_\u0644\u0644\u0645\u0642\u064a\u0645\u064a\u0646_\u0628\u0637\u0631\u0627\u0628\u0644\u0633"},{value:"52",label:"\u0627\u0644\u062f\u064a\u0646\u0627\u0631_\u0627\u0644\u0644\u064a\u0628\u064a_\u0644\u0644\u0645\u0642\u064a\u0645\u064a\u0646_\u0628\u0627\u0644\u062d\u0642\u0648\u0644_\u0627\u0644\u0646\u0641\u0637\u064a\u0629"},{value:"65",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0623\u0645\u0631\u064a\u0643\u0627_\u0646\u064a\u0648\u0632\u064a\u0644\u0646\u062f\u0627_\u0623\u0645\u0631\u064a\u0643\u0627_\u0627\u0644\u0634\u0645\u0627\u0644\u064a\u0629_\u0648\u0627\u0644\u062c\u0646\u0648\u0628\u064a\u0629_\u0643\u0646\u062f\u0627_\u0627\u0644\u064a\u0627\u0628\u0627\u0646"},{value:"66",label:"\u062c\u0646\u064a\u0647_\u0627\u0633\u062a\u0631\u0644\u064a\u0646\u064a_\u0633\u0648\u0642_\u0628\u0631\u064a\u0637\u0627\u0646\u064a\u0627"},{value:"67",label:"\u064a\u0648\u0631\u0648_\u0633\u0648\u0642_\u0623\u0648\u0631\u0648\u0628\u0627_\u0627\u0644\u063a\u0631\u0628\u064a\u0629_\u0627\u0644\u0623\u0633\u0643\u0646\u062f\u0646\u0627\u0641\u064a\u0629_\u062c\u0645\u064a\u0639_\u062f\u0648\u0644_\u0627\u0644\u063a\u0631\u0628\u064a\u0629"},{value:"68",label:"\u064a\u0648\u0631\u0648_\u0633\u0648\u0642_\u0623\u0648\u0631\u0648\u0628\u0627_\u0627\u0644\u0634\u0631\u0642\u064a\u0629_\u0635\u0631\u0628\u064a\u0627_\u0643\u0631\u0648\u0627\u062a\u064a\u0627_\u0627\u0644\u0628\u0648\u0633\u0646\u0629_\u062a\u0631\u0643\u064a\u0627_\u0631\u0648\u0633\u064a\u0627_\u0623\u0648\u0643\u0631\u0627\u0646\u064a\u0627_\u0628\u0648\u0644\u0646\u062f\u0627_\u0631\u0648\u0645\u0627\u0646\u064a\u0627"},{value:"69",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0627\u0644\u0634\u0631\u0642_\u0627\u0644\u0623\u0648\u0633\u0637_\u0627\u0644\u062f\u0648\u0644_\u0627\u0644\u0639\u0631\u0628\u064a\u0629_\u0625\u064a\u0631\u0627\u0646_\u0625\u0641\u0631\u064a\u0642\u064a\u0627"},{value:"70",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0627\u0644\u0634\u0631\u0642_\u0627\u0644\u0623\u0642\u0635\u0649_\u0627\u0644\u0647\u0646\u062f_\u0643\u0648\u0631\u064a\u0627_\u0627\u0644\u0635\u064a\u0646_\u0628\u0627\u0643\u0633\u062a\u0627\u0646_\u0628\u0646\u063a\u0644\u0627\u062f\u064a\u0634_\u0627\u0644\u0641\u0644\u0628\u064a\u0646_\u062a\u0627\u064a\u0644\u0627\u0646\u062f"}],_=[{value:41,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0642\u0627\u0646\u0648\u0646\u064a - 41"},{value:42,label:"\u0641\u0635\u0644 \u0628\u0633\u0628\u0628 \u0636\u0639\u0641 \u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0623\u062f\u0627\u0621 - 42"},{value:43,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0635\u062d\u064a - 43"},{value:44,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0627\u0644\u0648\u0641\u0627\u0629 - 44"},{value:45,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0627\u0644\u062a\u0642\u0627\u0639\u062f - 45"},{value:46,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0627\u0633\u0628\u0627\u0628_\u0627\u062e\u0631\u0649 - 46"},{value:33,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0627\u0633\u0628\u0627\u0628_\u0634\u062e\u0635\u064a\u0629 - 33"},{value:34,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0627\u0633\u0628\u0627\u0628_\u0635\u062d\u064a\u0629 - 34"},{value:38,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0644\u0627\u0633\u0628\u0627\u0628_\u062e\u0631\u0649 - 38"},{value:30,label:"\u0646\u0642\u0644_\u062f\u0627\u062e\u0644_\u0627\u0644\u0642\u0637\u0627\u0639 - 30"},{value:31,label:"\u0646\u0642\u0644_\u062e\u0627\u0631\u062c_\u0627\u0644\u0642\u0637\u0627\u0639 - 31"},{value:50,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0644\u0634\u0647\u064a\u062f_\u0627\u0644\u0648\u0627\u062c\u0628 - 50"}],e=[{id:"128b34e8-6595-446c-b630-4a8e5f214d83",name:"\u0645\u0635\u062d\u0629 \u0627\u0644\u0646\u0641\u0637 \u2013 \u0637\u0631\u0627\u0628\u0644\u0633"},{id:"eb06d390-2879-41d8-ae24-5db13ba5f140",name:"\u0645\u0635\u062d\u0629 \u0627\u0628\u0646 \u0633\u064a\u0646\u0627\u0621 \u2013 \u0628\u0646\u063a\u0627\u0632\u064a"},{id:"4148f325-142c-47a8-bf39-b2ce174ea974",name:"\u0645\u0635\u062d\u0640\u0629 \u062c\u0627\u0644\u0648"}],u=[{value:0,label:"\u0634\u0627\u063a\u0631\u0629"},{value:1,label:"\u0641\u0639\u0644\u064a\u0647"},{value:2,label:"\u0645\u0646\u062a\u062f\u0628 \u0639\u0644\u064a\u0647\u0627"}],d=[{value:0,label:"\u0645\u0645\u062a\u0627\u0632"},{value:1,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:2,label:"\u062c\u064a\u062f"},{value:3,label:"\u0645\u0642\u0628\u0648\u0644"}]},3794:(S,j,s)=>{s.r(j),s.d(j,{DefinitionPositionModule:()=>ne});var m=s(177),f=s(8834),b=s(3719),c=s(9631),g=s(4823),r=s(9417),h=s(6156),F=s(7062),D=s(2208),v=s(4991),_=s(3471),e=s(3953),u=s(4210),d=s(2298),E=s(3426),T=s(3197),y=s(2016),$=s(2702),I=s(9947);const k=i=>({"table-theme":i});function P(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function N(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function A(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"label"),e.EFF(2,"\u0646\u0648\u0639 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),e.k0s(),e.j41(3,"select",50),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getAllUnitsBranchingFromSpecificUnit())}),e.j41(4,"option",11),e.EFF(5,"\u0627\u062e\u062a\u0631..."),e.k0s(),e.DNE(6,N,2,2,"option",12),e.nI1(7,"async"),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",e.bMT(7,1,t.organizationalUnitFacade.AllDepartmentUnit$))}}function G(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name," ")}}function U(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",9)(1,"label"),e.EFF(2,"\u064a\u062a\u0628\u0639 \u0644\u0640"),e.k0s(),e.j41(3,"select",51),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.selectSpecificUnit())}),e.j41(4,"option",11),e.EFF(5,"\u0627\u062e\u062a\u0631..."),e.k0s(),e.DNE(6,G,2,2,"option",12),e.nI1(7,"async"),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",e.bMT(7,1,t.organizationalUnitFacade.AllSpecificUnit$))}}function J(i,a){if(1&i&&(e.j41(0,"div",52)(1,"label"),e.EFF(2,"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),e.k0s(),e.nrm(3,"input",53),e.k0s()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("disabled",!0)("value",t.costCenter)}}function R(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI("",t.name+" - "+t.locationCode," ")}}function M(i,a){if(1&i){const t=e.RV6();e.j41(0,"li",56),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.getJobTitleId(o))}),e.EFF(1),e.k0s()}if(2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.jobCode," ")}}function V(i,a){if(1&i&&(e.j41(0,"ul",54),e.DNE(1,M,2,1,"li",55),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.filteredJobTitles)}}function z(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI("",t.label," ")}}function x(i,a){if(1&i&&(e.j41(0,"option",49),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI("",t.label," ")}}function O(i,a){if(1&i&&(e.j41(0,"div",6)(1,"label"),e.EFF(2,"\u0645\u062f\u064a\u0631\u061f"),e.k0s(),e.j41(3,"select",57)(4,"option",58),e.EFF(5,"\u0627\u062e\u062a\u0631 ..."),e.k0s(),e.DNE(6,x,2,2,"option",12),e.k0s()()),2&i){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.optionsBooleanGeneral)}}function w(i,a){1&i&&(e.j41(0,"div",67),e.EFF(1," \u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629. "),e.k0s())}function B(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",59)(1,"div",1)(2,"div",60)(3,"label",61),e.EFF(4,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629"),e.k0s(),e.nrm(5,"input",62),e.DNE(6,w,2,0,"div",63),e.k0s(),e.j41(7,"div",64)(8,"a",65),e.bIt("click",function(){const o=e.eBV(t).index,l=e.XpG();return e.Njj(l.removeNote(o))}),e.j41(9,"i",66),e.EFF(10,"close"),e.k0s()()()()()}if(2&i){let t;const n=a.$implicit,o=a.index,l=e.XpG();e.Y8G("formGroupName",o),e.R7$(3),e.Mz_("for","familyName",o,""),e.R7$(2),e.Mz_("id","familyName",o,""),e.R7$(),e.Y8G("ngIf",(null==(t=l.getControl(n,"text"))?null:t.invalid)&&((null==(t=l.getControl(n,"text"))?null:t.dirty)||(null==(t=l.getControl(n,"text"))?null:t.touched)))}}function Y(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",68)(1,"input",69),e.bIt("change",function(o){e.eBV(t);const l=e.XpG();return e.Njj(l.filterPositions(o))}),e.k0s(),e.j41(2,"label",70),e.EFF(3," \u0648\u0638\u0627\u0626\u0641 \u062e\u0627\u0631\u062c \u0627\u0644\u0645\u0644\u0627\u0643 \u0627\u0644\u0648\u0638\u064a\u0641\u064a \u0641\u0642\u0637 "),e.k0s()()}}function L(i,a){if(1&i){const t=e.RV6();e.j41(0,"tr",72)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",73)(17,"a",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onDelete(o.id))}),e.j41(18,"i",66),e.EFF(19,"close"),e.k0s()()()()}if(2&i){const t=a.$implicit;e.Y8G("ngClass",e.eq3(10,k,1==t.outsideStaffing)),e.R7$(2),e.JRh(t.positionCode),e.R7$(2),e.JRh(t.jobCode),e.R7$(2),e.JRh(t.jobTitleName),e.R7$(2),e.JRh(t.locationName),e.R7$(2),e.JRh(t.organizationStructureName),e.R7$(2),e.JRh(2==t.positionType?"\u0623\u062c\u0646\u0628\u064a":"\u0644\u064a\u0628\u064a"),e.R7$(2),e.JRh(e.bMT(15,8,t.approvalDate))}}function X(i,a){if(1&i&&(e.j41(0,"tbody"),e.DNE(1,L,20,12,"tr",71),e.nI1(2,"async"),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,t.definitionPositionFacade.position$))}}function K(i,a){if(1&i){const t=e.RV6();e.j41(0,"tr",72)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.nI1(13,"date"),e.k0s(),e.j41(14,"td",73)(15,"a",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.onDelete(o.id))}),e.j41(16,"i",66),e.EFF(17,"close"),e.k0s()()()()}if(2&i){const t=a.$implicit;e.Y8G("ngClass",e.eq3(9,k,1==t.outsideStaffing)),e.R7$(2),e.JRh(t.positionCode),e.R7$(2),e.JRh(t.jobTitleName),e.R7$(2),e.JRh(t.locationName),e.R7$(2),e.JRh(t.organizationStructureName),e.R7$(2),e.JRh(2==t.positionType?"\u0623\u062c\u0646\u0628\u064a":"\u0644\u064a\u0628\u064a"),e.R7$(2),e.JRh(e.bMT(13,7,t.approvalDate))}}function W(i,a){if(1&i&&(e.j41(0,"tbody"),e.DNE(1,K,18,11,"tr",71),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.filteredPositions)}}const H=[{path:"",component:(()=>{class i{constructor(t,n,o,l,p,C){this.fb=t,this.definitionPositionFacade=n,this.organizationalUnitFacade=o,this.jobTitleFacade=l,this.sharedFacade=p,this.cdr=C,this.edit=!1,this.isChecked=!1,this.haveAdmin=!1,this.costCenter="",this.allPositions=[],this.filteredPositions=[],this.filteredJobTitles=[],this.allJobTitles=[],this.showDropdown=!1,this.searchTerm="",this.registerForm=this.fb.group({id:[""],positionCode:["",r.k0.required],jobTitleId:[null,r.k0.required],jobTitleName:[""],locationId:["",r.k0.required],locationName:[""],name:[{value:"",disabled:!0}],nameEn:[{value:"",disabled:!0}],organizationStructureId:["",r.k0.required],organizationStructureName:[""],positionType:["",r.k0.required],positionTypeName:[""],directManager:[""],directManagerName:[""],organizationalUnitNumber:[""],organizationalUnitNumberName:[""],specificUnit:[""],specificUnitName:[""],isAdmin:[!1],outsideStaffing:[!1],typePositionNationality:[!1],approvalDate:[""],Notes:this.fb.array([])}),this.registerFormSearch=this.fb.group({PositionCode:[""],JobTitleId:[""]}),this.optionsJobClassification=D.oz,this.optionsBooleanGeneral=D.Vy,this.optionsNationalityType=v.R,this.onSubmit()}ngOnInit(){this.edit=!1,this.organizationalUnitFacade.UnitsByDirectManagerSubject$.next([]),this.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$.next([]),this.organizationalUnitFacade.AllUnitsDepartmentSubject$.next([])}createNote(){return this.fb.group({text:["",r.k0.required]})}onSubmit(){this.organizationalUnitFacade.GetOrganizationalUnitsByLevel(0),this.organizationalUnitFacade.GetOrganizationalUnitsByLevel(2),this.jobTitleFacade.GetJobTitle(),this.jobTitleFacade.JobTitles$.subscribe(t=>{this.allJobTitles=t,this.filteredJobTitles=t}),this.definitionPositionFacade.GetLocations(),this.definitionPositionFacade.GetPosition("","")}filterPositions(t){this.filteredPositions=t.target.checked?this.definitionPositionFacade.PositionSubject$.getValue().filter(n=>n.outsideStaffing):[]}onSearch(){if(this.registerForm.controls.id.setValue(""),""!=this.registerFormSearch.value.PositionCode||""!=this.registerFormSearch.value.JobTitleId){const t=this.jobTitleFacade.JobTitleSubject$.getValue().find(n=>n.jobCode==this.registerFormSearch.value.JobTitleId);this.definitionPositionFacade.GetPosition(this.registerFormSearch.value.PositionCode,t?t.id:this.registerFormSearch.value.JobTitleId)}else this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0623\u0648 \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629  ",[""])}onDelete(t){this.edit=!1,this.definitionPositionFacade.deletePosition(t),this.registerForm.reset()}onReset(){this.edit=!1,this.registerForm.reset(),this.registerForm.setErrors(null),this.registerFormSearch.reset(),this.registerFormSearch.setErrors(null),this.organizationalUnitFacade.UnitsByDirectManagerSubject$.next([]),this.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$.next([]),this.organizationalUnitFacade.AllUnitsDepartmentSubject$.next([]),this.definitionPositionFacade.GetPosition("",""),this.costCenter="",this.isChecked=!1,this.Notes.clear()}onAdd(){if(null==this.registerForm.value.isAdmin&&this.registerForm.controls.isAdmin.setValue(!1),null==this.registerForm.value.outsideStaffing&&this.registerForm.controls.outsideStaffing.setValue(!1),null==this.registerForm.value.typePositionNationality&&this.registerForm.controls.typePositionNationality.setValue(!1),this.registerForm.valid){const t=this.jobTitleFacade.JobTitleSubject$.getValue().find(o=>o.id==this.registerForm.value.jobTitleId);this.registerForm.value.jobTitleName=""!=this.registerForm.value.jobTitleId&&null!=this.registerForm.value.jobTitleId?t.name:"",this.registerForm.value.positionTypeName=this.optionsNationalityType.find(o=>o.value.toString()==this.registerForm.value.positionType)?.label;const n=this.definitionPositionFacade.locationsSubject$.getValue().find(o=>o.id.toString()==this.registerForm.value.locationId);this.registerForm.value.locationName=""!=this.registerForm.value.locationId&&null!=this.registerForm.value.locationId?n.name:"",this.edit?(this.definitionPositionFacade.UpdatePosition(this.registerForm?.value),this.onReset()):(this.definitionPositionFacade.AddPosition(this.registerForm?.value),this.onReset())}else{if(""==this.registerForm.value.positionCode||this.registerForm.controls.positionCode.invalid)return void this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""]);if(""==this.registerForm.value.organizationStructureId||this.registerForm.controls.organizationStructureId.invalid)return void this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629",[""]);if(""==this.registerForm.value.locationId||null==this.registerForm.value.locationId||this.registerForm.controls.locationId.invalid)return void this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u0645\u0648\u0642\u0639 - \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0642\u0639",[""]);if(""==this.registerForm.value.jobTitleId||null==this.registerForm.value.jobTitleId||this.registerForm.controls.jobTitleId.invalid)return void this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629  ",[""]);if(""==this.registerForm.value.positionType||null==this.registerForm.value.positionType||this.registerForm.controls.positionType.invalid)return void this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""])}}onEdit(t){this.registerForm.patchValue(t),this.registerForm.value.positionTypeName=this.optionsNationalityType.find(o=>o.value.toString()==this.registerForm.value.positionType)?.label;const n=this.jobTitleFacade.JobTitleSubject$.getValue().find(o=>o.id==t.jobTitleId);this.registerForm.controls.name.setValue(n.name),this.registerForm.controls.nameEn.setValue(n.nameEn),this.edit=!0}getJobTitleId(t){this.searchTerm=t.jobCode,this.registerForm.controls.jobTitleId.setValue(t.id),this.showDropdown=!1,this.registerForm.controls.name.setValue(""),this.registerForm.controls.nameEn.setValue(""),""!=this.registerForm.value.jobTitleId&&(this.registerForm.controls.name.setValue(t.name),this.registerForm.controls.nameEn.setValue(t.nameEn),this.haveAdmin=t.haveAdmin,this.showDropdown=!1)}hideDropdown(t){this.allJobTitles.filter(o=>o.jobCode.toLowerCase()==t.target.value.toLowerCase()),setTimeout(()=>{this.showDropdown=!1},200),""==this.searchTerm&&(this.registerForm.controls.jobTitleId.setValue(null),this.registerForm.controls.name.setValue(""),this.registerForm.controls.nameEn.setValue("")),this.filteredJobTitles.length<=0&&this.sharedFacade.showMessage(_.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u062e\u0637\u0623 \u0641\u064a \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""])}GetAllUnitsDepartment(){this.registerForm.controls.organizationStructureId.setValue(this.registerForm.value?.directManager??"");const t=this.organizationalUnitFacade.OrganizationalUnitsByLevel2Subject$.getValue().find(n=>n.id==this.registerForm.value.organizationStructureId);this.registerForm.controls.organizationStructureName.setValue(""!==this.registerForm.value.organizationStructureId&&null!==this.registerForm.value.organizationStructureId?t?.name:""),this.costCenter=t?.costCenter,this.organizationalUnitFacade.GetAllUnitsDepartment(this.registerForm.value?.directManager??""),this.registerForm.controls.organizationalUnitNumber.setValue(""),this.registerForm.controls.organizationalUnitNumberName.setValue(""),this.registerForm.controls.specificUnit.setValue(""),this.registerForm.controls.specificUnitName.setValue("")}getAllUnitsBranchingFromSpecificUnit(){this.registerForm.controls.organizationStructureId.setValue(this.registerForm.value?.organizationalUnitNumber??"");const t=this.organizationalUnitFacade.AllUnitsDepartmentSubject$.getValue().find(n=>n.id==this.registerForm.value.organizationStructureId);this.registerForm.controls.organizationStructureName.setValue(""!==this.registerForm.value.organizationStructureId&&null!==this.registerForm.value.organizationStructureId?t?.name:""),this.organizationalUnitFacade.GetAllUnitsBranchingFromSpecificUnit(this.registerForm.value?.organizationalUnitNumber),this.registerForm.controls.specificUnit.setValue(""),this.registerForm.controls.specificUnitName.setValue("")}toggleCheckbox(){this.isChecked=!this.isChecked}addNote(){const t=this.registerForm.get("Notes");0==t.length&&t.push(this.createNote())}removeNote(t){this.Notes.removeAt(t)}get Notes(){return this.registerForm.get("Notes")}selectSpecificUnit(){this.registerForm.controls.organizationStructureId.setValue(this.registerForm.value?.specificUnit??"");const t=this.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$.getValue().find(n=>n.id==this.registerForm.value.organizationStructureId);this.registerForm.controls.organizationStructureName.setValue(""!==this.registerForm.value.organizationStructureId&&null!==this.registerForm.value.organizationStructureId?t?.name:"")}getControl(t,n){return t.get(n)}onSearchJobTitles(t){this.searchTerm="";const n=t.target.value.toLowerCase();this.filteredJobTitles=this.allJobTitles.filter(o=>o.jobCode.toLowerCase().includes(n))}getJobCode(){const t=this.registerForm.controls.jobTitleId.value,n=this.filteredJobTitles.find(o=>o.id===t);return n?n.jobCode:""}transform(t,n){return t?n?(n=n.toLocaleLowerCase(),t.filter(o=>o.toLocaleLowerCase().includes(n))):t:[]}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(r.ok),e.rXU(u.L),e.rXU(d.$),e.rXU(E.Y),e.rXU(T.I),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-rewards-types"]],decls:117,vars:27,consts:[["directManager",""],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"form-group","col-md-2"],["for","inlineFormpositionCode"],["type","text","required","","formControlName","positionCode","id","inlineFormpositionCode",1,"form-control"],[1,"form-group","col-md-3"],["formControlName","directManager","aria-label","select example",1,"form-select",3,"change"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","form-group col-md-3 ",4,"ngIf"],["class","form-group col-sm-2",4,"ngIf"],["formControlName","locationId","required","","aria-label","select example",1,"form-select"],["type","text","placeholder","\u0627\u0628\u062d\u062b \u0639\u0646 \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629","required","","formControlName","jobTitleId",1,"form-control","mb-2",3,"input","click","focusout","keyup.enter","value"],["class","dropdown-list","aria-label","select example",4,"ngIf"],["type","text","formControlName","name",1,"form-control"],["type","text","formControlName","nameEn",1,"form-control"],["formControlName","positionType","required","","aria-label","select example",1,"form-select"],["value","-1","selected","","disabled",""],["type","date","formControlName","approvalDate","id","approvalDate",1,"form-control"],["class","form-group col-md-2 ",4,"ngIf"],[1,"form-check","col-sm-2","align-self-center","form-switch"],["for","flexSwitchCheckDefault",1,"form-check-label"],["formControlName","outsideStaffing","mdbCheckbox","","type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchTypePositionNationality"],["formControlName","typePositionNationality","mdbCheckbox","","type","checkbox","id","flexSwitchTypePositionNationality",1,"form-check-input",3,"change"],[1,"form-group","col-md-3","align-self-end"],["ngbDropdownToggle","","type","button",1,"btn","drp-icon","btn-rounded","btn-success",3,"click"],[1,"feather","icon-plus"],["formArrayName","Notes"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"click"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0628\u062d\u062b","blockClass","table-border-style",3,"options"],["action","javascript:",1,"row","row-cols-md-auto","g-3","align-items-center",3,"formGroup"],["for","inlineFormInputPositionCode"],["type","text","formControlName","PositionCode","id","inlineFormInputPositionCode",1,"form-control"],["type","text","formControlName","JobTitleId","id","JobTitleId",1,"form-control"],[1,"col-12"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"feather","icon-info"],["class","form-check  form-switch",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngIf"],[3,"value"],["formControlName","organizationalUnitNumber","aria-label","select example",1,"form-select",3,"change"],["formControlName","specificUnit","aria-label","select example",1,"form-select",3,"change"],[1,"form-group","col-sm-2"],["type","text",1,"form-control",3,"disabled","value"],["aria-label","select example",1,"dropdown-list"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],["formControlName","isAdmin","required","","aria-label","select example",1,"form-select"],["value","false","selected","","disabled",""],[3,"formGroupName"],[1,"form-group","col-md-5"],[3,"for"],["type","text","formControlName","text","required","",1,"form-control",3,"id"],["class","text-danger",4,"ngIf"],[1,"form-group","col-md-1","align-self-end"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"],[1,"text-danger"],[1,"form-check","form-switch"],["mdbCheckbox","","type","checkbox",1,"form-check-input",3,"change"],[1,"form-check-label"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"td-actions","text-right"]],template:function(n,o){if(1&n){const l=e.RV6();e.j41(0,"div",1),e.nrm(1,"app-loading")(2,"app-messages"),e.j41(3,"div",2)(4,"div",3)(5,"div",4)(6,"form",5)(7,"div",1)(8,"div",6)(9,"label",7),e.EFF(10,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 "),e.k0s(),e.nrm(11,"input",8),e.k0s(),e.j41(12,"div",9)(13,"label"),e.EFF(14,"\u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),e.k0s(),e.j41(15,"select",10,0),e.bIt("change",function(){return e.eBV(l),e.Njj(o.GetAllUnitsDepartment())}),e.j41(17,"option",11),e.EFF(18,"\u0627\u062e\u062a\u0631.."),e.k0s(),e.DNE(19,P,2,2,"option",12),e.nI1(20,"async"),e.k0s()(),e.DNE(21,A,8,3,"div",13),e.nI1(22,"async"),e.DNE(23,U,8,3,"div",13),e.nI1(24,"async"),e.DNE(25,J,4,2,"div",14),e.k0s(),e.j41(26,"div",1)(27,"div",9)(28,"label"),e.EFF(29," \u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0642\u0639 -\t\u0631\u0645\u0632 \u0627\u0644\u0645\u0648\u0642\u0639"),e.k0s(),e.j41(30,"select",15)(31,"option",11),e.EFF(32,"\u0627\u062e\u062a\u0631..."),e.k0s(),e.DNE(33,R,2,2,"option",12),e.nI1(34,"async"),e.k0s()(),e.j41(35,"div",6)(36,"label"),e.EFF(37,"\u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(38,"input",16),e.bIt("input",function(C){return e.eBV(l),e.Njj(o.onSearchJobTitles(C))})("click",function(){return e.eBV(l),e.Njj(o.showDropdown=!0)})("focusout",function(C){return e.eBV(l),e.Njj(o.hideDropdown(C))})("keyup.enter",function(){return e.eBV(l),e.Njj(o.showDropdown=!0)}),e.k0s(),e.DNE(39,V,2,1,"ul",17),e.k0s(),e.j41(40,"div",9)(41,"label"),e.EFF(42,"\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"),e.k0s(),e.nrm(43,"input",18),e.k0s(),e.j41(44,"div",9)(45,"label"),e.EFF(46,"\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629"),e.k0s(),e.nrm(47,"input",19),e.k0s()(),e.j41(48,"div",1)(49,"div",6)(50,"label"),e.EFF(51,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(52,"select",20)(53,"option",21),e.EFF(54,"\u0627\u062e\u062a\u0631 ..."),e.k0s(),e.DNE(55,z,2,2,"option",12),e.k0s()(),e.j41(56,"div",9)(57,"label"),e.EFF(58,"\u062a\u0627\u0631\u064a\u062e \u0633\u0631\u064a\u0627\u0646 \u0639\u0644\u0649 \u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.nrm(59,"input",22),e.k0s(),e.DNE(60,O,7,1,"div",23),e.j41(61,"div",24)(62,"label",25),e.EFF(63," \u062e\u0627\u0631\u062c \u0627\u0644\u0645\u0644\u0627\u0643 \u0627\u0644\u0648\u0638\u064a\u0641\u064a"),e.k0s(),e.nrm(64,"input",26),e.k0s(),e.j41(65,"div",24)(66,"label",27),e.EFF(67),e.k0s(),e.j41(68,"input",28),e.bIt("change",function(){return e.eBV(l),e.Njj(o.toggleCheckbox())}),e.k0s()(),e.j41(69,"div",29),e.EFF(70," \u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0627\u062d\u0638\u0629 "),e.j41(71,"button",30),e.bIt("click",function(){return e.eBV(l),e.Njj(o.addNote())}),e.nrm(72,"i",31),e.k0s()()(),e.j41(73,"div",32),e.DNE(74,B,11,6,"div",33),e.k0s(),e.j41(75,"button",34),e.bIt("click",function(){return e.eBV(l),e.Njj(o.onAdd())}),e.EFF(76,"\u062d\u0641\u0638"),e.k0s(),e.j41(77,"button",35),e.bIt("click",function(){return e.eBV(l),e.Njj(o.onReset())}),e.EFF(78,"\u062c\u062f\u064a\u062f"),e.k0s()()()()(),e.j41(79,"div",36)(80,"app-card",37)(81,"form",38)(82,"div",9)(83,"label",39),e.EFF(84,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.nrm(85,"input",40),e.k0s(),e.j41(86,"div",9)(87,"label",39),e.EFF(88,"\u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.nrm(89,"input",41),e.k0s(),e.j41(90,"div",42)(91,"button",43),e.bIt("click",function(){return e.eBV(l),e.Njj(o.onSearch())}),e.EFF(92," \u0628\u062d\u062b "),e.nrm(93,"i",44),e.k0s()(),e.DNE(94,Y,4,0,"div",45),e.nI1(95,"async"),e.k0s(),e.nrm(96,"br"),e.j41(97,"div",46)(98,"table",47)(99,"thead")(100,"th"),e.EFF(101,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(102,"th"),e.EFF(103," \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(104,"th"),e.EFF(105," \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(106,"th"),e.EFF(107," \u0627\u0644\u0645\u0648\u0642\u0639"),e.k0s(),e.j41(108,"th"),e.EFF(109,"\u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),e.k0s(),e.j41(110,"th"),e.EFF(111,"\u0646\u0648\u0639 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(112,"th"),e.EFF(113,"\u062a\u0627\u0631\u064a\u062e \u0633\u0631\u064a\u0627\u0646 \u0639\u0644\u0649 \u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.nrm(114,"th"),e.k0s(),e.DNE(115,X,3,3,"tbody",48)(116,W,2,1,"tbody",48),e.k0s()()()()()}if(2&n){let l,p;const C=e.sdS(16);e.R7$(6),e.Y8G("formGroup",o.registerForm),e.R7$(13),e.Y8G("ngForOf",e.bMT(20,17,o.organizationalUnitFacade.UnitsByLevel2$)),e.R7$(2),e.Y8G("ngIf",0!=(null==(l=e.bMT(22,19,o.organizationalUnitFacade.AllDepartmentUnit$))?null:l.length)&&""!=C.value&&null!=C.value),e.R7$(2),e.Y8G("ngIf",0!=(null==(p=e.bMT(24,21,o.organizationalUnitFacade.AllSpecificUnit$))?null:p.length)),e.R7$(2),e.Y8G("ngIf",""!=o.costCenter),e.R7$(8),e.Y8G("ngForOf",e.bMT(34,23,o.definitionPositionFacade.locations$)),e.R7$(5),e.Y8G("value",o.getJobCode()),e.R7$(),e.Y8G("ngIf",o.showDropdown&&o.filteredJobTitles.length>0),e.R7$(16),e.Y8G("ngForOf",o.optionsNationalityType),e.R7$(5),e.Y8G("ngIf",!o.haveAdmin),e.R7$(7),e.SpI(" ",o.isChecked?"\u0645\u062d\u062c\u0648\u0632\u0629":"\u063a\u064a\u0631 \u0645\u062d\u062c\u0648\u0632\u0629"," "),e.R7$(7),e.Y8G("ngForOf",o.Notes.controls),e.R7$(6),e.Y8G("options",!1),e.R7$(),e.Y8G("formGroup",o.registerFormSearch),e.R7$(13),e.Y8G("ngIf",0!=e.bMT(95,25,o.definitionPositionFacade.position$).length),e.R7$(21),e.Y8G("ngIf",0==o.filteredPositions.length),e.R7$(),e.Y8G("ngIf",0!=o.filteredPositions.length)}},dependencies:[m.YU,m.Sq,m.bT,f.It,r.qT,r.xH,r.y7,r.me,r.Zm,r.wz,r.BC,r.cb,r.YS,r.j4,r.JD,r.$R,r.v8,y.q,$.y,I.i,m.Jj,m.vh],styles:[".dropdown-list[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;max-height:200px;overflow-y:auto;position:absolute;background-color:#fff;z-index:1000}.dropdown-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]})}return i})(),data:{breadcrumb:"\u062a\u0639\u0631\u064a\u0641 \u0648\u0638\u064a\u0641\u0629"}}];let Q=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[F.iI.forChild(H),F.iI]})}return i})();var Z=s(9183),q=s(1786),ee=s(8964),te=s(6600),ie=s(2798),oe=s(9004);let ne=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({providers:[u.L,h.V,d.$,ee.p,E.Y,oe.c],imports:[m.MD,f.Hl,b.RG,c.fS,g.uc,r.X1,Q,Z.D6,q.G,te.Sy,ie.Ve,I.i,r.YN]})}return i})()},3426:(S,j,s)=>{s.d(j,{Y:()=>D});var m=s(4412),f=s(6496),b=s(8141),c=s(3471),g=s(1025),r=s(3953),h=s(3197),F=s(9004);let D=(()=>{class v{constructor(e,u){this.sharedFacade=e,this.jobTitleServices=u,this.JobTitleSubject$=new m.t([]),this.JobTitles$=this.JobTitleSubject$.asObservable(),this.JobTitleIdSubject$=new m.t(null),this.JobTitlesId$=this.JobTitleSubject$.asObservable(),this.functionalFamilySubject$=new m.t(null),this.functionalFamily$=this.functionalFamilySubject$.asObservable()}deleteJobTitle(e){const u=this.jobTitleServices.DeleteJobTitle(e).pipe((0,b.M)(d=>{if(d.type==c.yl.Success){this.sharedFacade.showMessage(c.Go.success," \u062d\u0630\u0641 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u064a",["\u062a\u0645 \u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d"]);const T=this.JobTitleSubject$.getValue().filter(y=>y.id!=e);this.JobTitleSubject$.next(T),this.JobTitleSubject$.subscribe()}else this.sharedFacade.showMessage(c.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641",d.messages)}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(u).pipe().subscribe()}GetJobTitle(){const e=this.jobTitleServices.GetJobTitle().pipe((0,b.M)(u=>{u.type==c.yl.Success?this.JobTitleSubject$.next(u.content):(this.JobTitleSubject$.next([]),this.sharedFacade.showMessage(c.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",u.messages))}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(e).pipe().subscribe()}GetFunctionalFamily(){const e=this.jobTitleServices.GetFunctionalFamily().pipe((0,b.M)(u=>{u.type==c.yl.Success?this.functionalFamilySubject$.next(u.content):(this.functionalFamilySubject$.next([]),this.sharedFacade.showMessage(c.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",u.messages))}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(e).pipe().subscribe()}GetJobTitleId(e){const u=this.jobTitleServices.GetJobTitleId(e).pipe((0,b.M)(d=>{d.type==c.yl.Success?this.JobTitleIdSubject$.next(d.content[0]):(this.JobTitleIdSubject$.next(null),this.sharedFacade.showMessage(c.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",d.messages))}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(u).pipe().subscribe()}AddJobTitle(e){const u=this.jobTitleServices.AddJobTitle(e).pipe((0,b.M)(d=>{if(d.type==c.yl.Success){this.sharedFacade.showMessage(c.Go.success,"\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d",d.messages);const E=this.JobTitleSubject$.getValue();this.JobTitleSubject$.next((0,g.jM)(E,T=>{e.id=d.content,T.unshift(e)}))}else this.sharedFacade.showMessage(c.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",d.messages)}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(u).pipe().subscribe()}UpdateJobTitle(e){const u=this.jobTitleServices.UpdateJobTitle(e).pipe((0,b.M)(d=>{if(d.type==c.yl.Success){this.sharedFacade.showMessage(c.Go.success,"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d",d.messages);const E=this.JobTitleSubject$.getValue();this.JobTitleSubject$.next((0,g.jM)(E,T=>{const y=T.findIndex($=>$.id==e.id);T[y]=e})),this.JobTitleSubject$.subscribe()}else this.sharedFacade.showMessage(c.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u062a\u0639\u062f\u064a\u0644",d.messages)}),(0,f.t)());this.sharedFacade.showLoaderUntilCompleted(u).pipe().subscribe()}static#e=this.\u0275fac=function(u){return new(u||v)(r.KVO(h.I),r.KVO(F.c))};static#t=this.\u0275prov=r.jDH({token:v,factory:v.\u0275fac})}return v})()},9004:(S,j,s)=>{s.d(j,{c:()=>c});var m=s(3953),f=s(1626),b=s(1441);let c=(()=>{class g{constructor(h,F){this.http=h,this.appConfig=F,this.url=this.appConfig.defaultUrl}AddJobTitle(h){return this.http.post(`${this.url}/api/JobTitle/AddJobTitle?culture=ar-LY`,h)}UpdateJobTitle(h){return this.http.put(`${this.url}/api/JobTitle/UpdateJobTitle?culture=ar-LY`,h)}DeleteJobTitle(h){return this.http.delete(`${this.url}/api/JobTitle/DeleteJobTitle?Id=${h}&culture=ar-LY`)}GetJobTitle(){return this.http.get(`${this.url}/api/JobTitle/GetJobTitle?culture=ar-LY`)}GetFunctionalFamily(){return this.http.get(`${this.url}/GetAllFunctionalFamilies?culture=ar-LY`)}GetJobTitleId(h){return this.http.get(`${this.url}/api/JobTitle/GetJobTitle?Name=${h}&culture=ar-LY`)}static#e=this.\u0275fac=function(F){return new(F||g)(m.KVO(f.Qq),m.KVO(b.o))};static#t=this.\u0275prov=m.jDH({token:g,factory:g.\u0275fac})}return g})()}}]);