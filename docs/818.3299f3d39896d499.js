"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[818],{2208:(C,y,a)=>{a.d(y,{HH:()=>U,PE:()=>v,QJ:()=>d,UH:()=>r,VF:()=>c,Vy:()=>m,a8:()=>g,ez:()=>f,oz:()=>n});let m=[{value:!0,label:"\u0646\u0639\u0645"},{value:!1,label:"\u0644\u0627"}],d=[{value:"A",label:"\u0639\u0644\u064a\u0627"},{value:"B",label:"\u062a\u0646\u0641\u064a\u0630\u064a\u0647"},{value:"C",label:"\u0623\u0633\u0627\u0633\u064a\u0629"}],g=[{value:1,label:"\u0630\u0643\u0631"},{value:2,label:"\u0627\u0646\u062b\u064a"}],n=[{value:1,label:"\u0645\u0648\u0638\u0641"},{value:2,label:"\u0645\u062f\u064a\u0631 \u0625\u062f\u0627\u0631\u0629"},{value:3,label:"\u0631\u0626\u064a\u0633 \u0642\u0633\u0645"},{value:4,label:"\u0631\u0626\u064a\u0633 \u0648\u062d\u062f\u0629"},{value:5,label:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645"},{value:6,label:"\u0645\u062f\u064a\u0631 \u0645\u0643\u062a\u0628"}],v=[{value:1,label:"\u0645\u0645\u062a\u0627\u0632"},{value:2,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:3,label:"\u062c\u064a\u062f"},{value:4,label:"\u0645\u062a\u0648\u0633\u0637 "},{value:5,label:"\u0636\u0639\u064a\u0641 "},{value:6,label:"\u0625\u064a\u0641\u0627\u062f "},{value:7,label:"\u0644\u0627\u064a\u0648\u062c\u062f "}],r=[{value:1,label:"\u0623\u0639\u0632\u0628"},{value:2,label:"\u0645\u062a\u0632\u0648\u062c"},{value:3,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u064a\u0639\u0648\u0644"}],c=[{value:1,label:"\u0645\u0646\u0633\u0628"},{value:2,label:"\u062a\u0639\u064a\u064a\u0646"},{value:3,label:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"},{value:4,label:"\u0646\u0642\u0644"},{value:6,label:"\u062a\u0639\u064a\u064a\u0646 \u0628\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"}],f=[{value:1,label:"\u062f\u0627\u062e\u0644"},{value:2,label:"\u062e\u0627\u0631\u062c"}],U=[{value:1,label:"\u0623\u0645"},{value:2,label:"\u0623\u0628"},{value:3,label:"\u0632\u0648\u062c\u0629_\u0632\u0648\u062c"},{value:4,label:"\u0627\u0628\u0646"},{value:5,label:"\u0627\u0628\u0646\u0629"}]},4818:(C,y,a)=>{a.r(y),a.d(y,{JobTitleModule:()=>V});var m=a(177),d=a(8834),g=a(3719),n=a(9631),v=a(4823),r=a(9417),c=a(9004),f=a(7062),U=a(2208),h=a(3471),S=a(6354),t=a(3953),o=a(3426),i=a(7847),j=a(3197),F=a(5520),$=a(2016),A=a(2702),E=a(9947);function G(s,p){if(1&s&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&s){const e=p.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI("",e.name," ")}}function T(s,p){if(1&s&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&s){const e=p.$implicit;t.Y8G("value",e.value),t.R7$(),t.SpI("",e.label," ")}}function M(s,p){if(1&s&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&s){const e=p.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI("",e.name," ")}}function z(s,p){if(1&s&&(t.j41(0,"div",5)(1,"label"),t.EFF(2,"\t\u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(3,"select",32)(4,"option",9),t.EFF(5,"\u0627\u062e\u062a\u0631.."),t.k0s(),t.DNE(6,M,2,2,"option",10),t.nI1(7,"async"),t.k0s()()),2&s){const e=t.XpG();t.R7$(6),t.Y8G("ngForOf",t.bMT(7,1,e.filteredJobClassifications$))}}function I(s,p){if(1&s&&(t.j41(0,"option",31),t.EFF(1),t.k0s()),2&s){const e=p.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI("",e.name," ")}}function D(s,p){1&s&&(t.j41(0,"div",41),t.EFF(1," \u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629. "),t.k0s())}function N(s,p){if(1&s){const e=t.RV6();t.j41(0,"div",33)(1,"div",0)(2,"div",34)(3,"label",35),t.EFF(4,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629"),t.k0s(),t.nrm(5,"input",36),t.DNE(6,D,2,0,"div",37),t.k0s(),t.j41(7,"div",38)(8,"a",39),t.bIt("click",function(){const l=t.eBV(e).index,b=t.XpG();return t.Njj(b.removeNote(l))}),t.j41(9,"i",40),t.EFF(10,"close"),t.k0s()()()()()}if(2&s){let e;const u=p.$implicit,l=p.index,b=t.XpG();t.Y8G("formGroupName",l),t.R7$(3),t.Mz_("for","familyName",l,""),t.R7$(2),t.Mz_("id","familyName",l,""),t.R7$(),t.Y8G("ngIf",(null==(e=b.getControl(u,"text"))?null:e.invalid)&&((null==(e=b.getControl(u,"text"))?null:e.dirty)||(null==(e=b.getControl(u,"text"))?null:e.touched)))}}function B(s,p){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td",42)(12,"a",43),t.bIt("click",function(){const l=t.eBV(e).$implicit,b=t.XpG();return t.Njj(b.onEdit(l))}),t.j41(13,"i",44),t.EFF(14,"edit"),t.k0s()(),t.j41(15,"a",39),t.bIt("click",function(){const l=t.eBV(e).$implicit,b=t.XpG();return t.Njj(b.onDelete(l.id))}),t.j41(16,"i",40),t.EFF(17,"close"),t.k0s()()()()}if(2&s){const e=p.$implicit;t.R7$(2),t.JRh(e.jobCode),t.R7$(2),t.JRh(e.description),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.nameEn),t.R7$(2),t.JRh(e.scientificQualificationName)}}const x=[{path:"",component:(()=>{class s{constructor(e,u,l,b,K){this.fb=e,this.jobTitleFacade=u,this.classificationBranchesFacade=l,this.sharedFacade=b,this.scientificQualificationsFacade=K,this.edit=!1,this.registerForm=this.fb.group({id:[""],jobCode:["",r.k0.required],name:["",[r.k0.required,O=>/^[\u0600-\u06FF\s]+$/.test(O.value)?null:{arabicCharacters:!0}]],nameEn:["",[r.k0.required,O=>/^[A-Za-z\s]+$/.test(O.value)?null:{englishCharacters:!0}]],description:["",r.k0.required],jobClassificationId:["",r.k0.required],jobClassificationName:[""],jobType:[1],scientificQualificationId:["",r.k0.required],scientificQualificationName:[""],Notes:this.fb.array([]),functionalFamilyId:["",r.k0.required],functionalCategory:[""]}),this.optionsBooleanGeneral=U.Vy,this.optionsFunctionalCategory=U.QJ,this.optionsFamilyDescription=U.HH,this.optionsGenderGeneral=U.a8,this.onSubmit(),this.classificationBranchesFacade.GetJobClassification(),this.scientificQualificationsFacade.GetScientificQualifications()}createNote(){return this.fb.group({text:["",r.k0.required]})}ngOnInit(){this.edit=!1,this.filteredJobClassifications$=this.classificationBranchesFacade.JobClassification$}onSubmit(){this.jobTitleFacade.GetJobTitle(),this.jobTitleFacade.GetFunctionalFamily()}onDelete(e){this.edit=!1,this.jobTitleFacade.deleteJobTitle(e),this.registerForm.reset()}onReset(){this.edit=!1,this.registerForm.reset(),this.registerForm.controls.jobClassificationId.setValue(""),this.registerForm.controls.functionalCategory.setValue(""),this.Notes.clear(),this.registerForm.setErrors(null),this.onSubmit()}onAdd(){if(this.registerForm.controls.jobType.setValue(1),this.registerForm.valid){const e=this.classificationBranchesFacade.JobClassificationSubject$.getValue().find(l=>l.id.toString()==this.registerForm.value.jobClassificationId);this.registerForm.value.jobClassificationName=""!=this.registerForm.value.jobClassificationId&&null!=this.registerForm.value.jobClassificationId?e.name:"";const u=this.scientificQualificationsFacade.ScientificQualificationsSubject$.getValue().find(l=>l.id==this.registerForm.value.scientificQualificationId);this.registerForm.value.scientificQualificationName=""!=this.registerForm.value.scientificQualificationId&&null!=this.registerForm.value.scientificQualificationId?u.name:"",this.edit?(this.jobTitleFacade.UpdateJobTitle(this.registerForm?.value),this.onReset()):(this.jobTitleFacade.AddJobTitle(this.registerForm?.value),this.onReset())}else{if(""==this.registerForm.value.jobCode)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629  ",[""]);if(""==this.registerForm.value.functionalFamilyId||this.registerForm.controls.functionalFamilyId.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629  ",[""]);if(""==this.registerForm.value.name||this.registerForm.controls.name.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",[""]);if(""==this.registerForm.value.nameEn||this.registerForm.controls.nameEn.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629",[""]);if(""==this.registerForm.value.functionalCategory||this.registerForm.controls.functionalCategory.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629 ",[""]);if(""==this.registerForm.value.jobClassificationId||this.registerForm.controls.jobClassificationId.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u062a\u0635\u0646\u064a\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""]);if(""==this.registerForm.value.description||this.registerForm.controls.description.invalid)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629",[""]);if(""==this.registerForm.value.scientificQualificationId)return void this.sharedFacade.showMessage(h.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a",[""])}}onEdit(e){this.registerForm.patchValue(e),this.edit=!0}filteredJobClassification(){this.filteredJobClassifications$=this.classificationBranchesFacade.JobClassification$.pipe((0,S.T)("C"!=this.registerForm.controls.functionalCategory.value?e=>e.filter(u=>u.name.includes(this.registerForm.controls.functionalCategory.value)):e=>e.filter(u=>u.name.includes("C")||u.name.includes("D"))))}addNote(){this.registerForm.get("Notes").push(this.createNote())}removeNote(e){this.Notes.removeAt(e)}get Notes(){return this.registerForm.get("Notes")}getControl(e,u){return e.get(u)}static#t=this.\u0275fac=function(u){return new(u||s)(t.rXU(r.ok),t.rXU(o.Y),t.rXU(i.Z),t.rXU(j.I),t.rXU(F.o))};static#e=this.\u0275cmp=t.VBU({type:s,selectors:[["app-rewards-types"]],decls:77,vars:14,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"form-group","col-md-2"],["for","inlineFormName"],["type","text","required","","formControlName","jobCode","id","inlineFormName",1,"form-control"],["formControlName","functionalFamilyId","required","","aria-label","select example",1,"form-select"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","inlineFormNameAr"],["type","text","required","","formControlName","name","id","inlineFormNameAr",1,"form-control"],["for","inlineFormNameAEn"],["type","text","required","","formControlName","nameEn","id","inlineFormNameAEn",1,"form-control"],["formControlName","functionalCategory","aria-label","select example",1,"form-select",3,"change"],["class","form-group col-md-2",4,"ngIf"],["for","inlineFormdescription"],["type","text","required","","formControlName","description","id","inlineFormdescription",1,"form-control"],["formControlName","scientificQualificationId","required","","aria-label","select example",1,"form-select"],[1,"form-group","col-md-3","align-self-end"],["type","button",1,"btn","btn-themeAdd",3,"click"],["formArrayName","Notes"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"click"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0648\u0638\u0627\u0626\u0641","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[3,"value"],["formControlName","jobClassificationId","required","","aria-label","select example",1,"form-select"],[3,"formGroupName"],[1,"form-group","col-md-3"],[3,"for"],["type","text","formControlName","text","required","",1,"form-control",3,"id"],["class","text-danger",4,"ngIf"],[1,"form-group","col-md-1","align-self-end"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"],[1,"text-danger"],[1,"td-actions","text-right"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"edit","mat-button",3,"click"],[1,"material-icons","text-warning"]],template:function(u,l){1&u&&(t.j41(0,"div",0),t.nrm(1,"app-loading")(2,"app-messages"),t.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"form",4)(7,"div",0)(8,"div",5)(9,"label",6),t.EFF(10,"\u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.nrm(11,"input",7),t.k0s(),t.j41(12,"div",5)(13,"label"),t.EFF(14," \u0627\u0644\u0639\u0627\u0626\u0644\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629"),t.k0s(),t.j41(15,"select",8)(16,"option",9),t.EFF(17,"\u0627\u062e\u062a\u0631..."),t.k0s(),t.DNE(18,G,2,2,"option",10),t.nI1(19,"async"),t.k0s()(),t.j41(20,"div",5)(21,"label",11),t.EFF(22,"\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"),t.k0s(),t.nrm(23,"input",12),t.k0s(),t.j41(24,"div",5)(25,"label",13),t.EFF(26,"\t\u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629"),t.k0s(),t.nrm(27,"input",14),t.k0s()(),t.j41(28,"div",0)(29,"div",5)(30,"label"),t.EFF(31,"\u0627\u0644\u0641\u0626\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629"),t.k0s(),t.j41(32,"select",15),t.bIt("change",function(){return l.filteredJobClassification()}),t.j41(33,"option",9),t.EFF(34,"\u0627\u062e\u062a\u0631 ..."),t.k0s(),t.DNE(35,T,2,2,"option",10),t.k0s()(),t.DNE(36,z,8,3,"div",16),t.j41(37,"div",5)(38,"label",17),t.EFF(39,"\t\u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.nrm(40,"input",18),t.k0s(),t.j41(41,"div",5)(42,"label"),t.EFF(43,"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a"),t.k0s(),t.j41(44,"select",19)(45,"option",9),t.EFF(46,"\u0627\u062e\u062a\u0631..."),t.k0s(),t.DNE(47,I,2,2,"option",10),t.nI1(48,"async"),t.k0s()(),t.j41(49,"div",20)(50,"button",21),t.bIt("click",function(){return l.addNote()}),t.EFF(51,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0627\u062d\u0638\u0629"),t.k0s()()(),t.j41(52,"div",22),t.DNE(53,N,11,6,"div",23),t.k0s(),t.j41(54,"button",24),t.bIt("click",function(){return l.onAdd()}),t.EFF(55,"\u062d\u0641\u0638"),t.k0s(),t.j41(56,"button",25),t.bIt("click",function(){return l.onReset()}),t.EFF(57,"\u062c\u062f\u064a\u062f"),t.k0s()()()()(),t.j41(58,"div",26)(59,"app-card",27)(60,"div",28)(61,"table",29)(62,"thead")(63,"th"),t.EFF(64," \u0631\u0645\u0632 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(65,"th"),t.EFF(66," \u0648\u0635\u0641 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),t.k0s(),t.j41(67,"th"),t.EFF(68," \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"),t.k0s(),t.j41(69,"th"),t.EFF(70," \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0625\u0646\u062c\u0644\u064a\u0632\u064a\u0629"),t.k0s(),t.j41(71,"th"),t.EFF(72,"\u0627\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a "),t.k0s(),t.nrm(73,"th"),t.k0s(),t.j41(74,"tbody"),t.DNE(75,B,18,5,"tr",30),t.nI1(76,"async"),t.k0s()()()()()()),2&u&&(t.R7$(6),t.Y8G("formGroup",l.registerForm),t.R7$(12),t.Y8G("ngForOf",t.bMT(19,8,l.jobTitleFacade.functionalFamily$)),t.R7$(17),t.Y8G("ngForOf",l.optionsFunctionalCategory),t.R7$(),t.Y8G("ngIf",""!=l.registerForm.controls.functionalCategory.value),t.R7$(11),t.Y8G("ngForOf",t.bMT(48,10,l.scientificQualificationsFacade.ScientificQualifications$)),t.R7$(6),t.Y8G("ngForOf",l.Notes.controls),t.R7$(6),t.Y8G("options",!1),t.R7$(16),t.Y8G("ngForOf",t.bMT(76,12,l.jobTitleFacade.JobTitles$)))},dependencies:[m.Sq,m.bT,d.It,r.qT,r.xH,r.y7,r.me,r.wz,r.BC,r.cb,r.YS,r.j4,r.JD,r.$R,r.v8,$.q,A.y,E.i,m.Jj]})}return s})(),data:{breadcrumb:"\u0627\u0644\u0635\u0641\u0629 \u0627\u0644\u0648\u0638\u064a\u0641\u064a\u0629"}}];let L=(()=>{class s{static#t=this.\u0275fac=function(u){return new(u||s)};static#e=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({imports:[f.iI.forChild(x),f.iI]})}return s})();var _=a(9183),J=a(1786),R=a(2298),k=a(8964),P=a(6600),w=a(2798),Y=a(606),Q=a(821);let V=(()=>{class s{static#t=this.\u0275fac=function(u){return new(u||s)};static#e=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({providers:[o.Y,c.c,R.$,k.p,F.o,Y.q,i.Z,Q.w],imports:[m.MD,d.Hl,g.RG,n.fS,v.uc,r.X1,L,_.D6,J.G,P.Sy,w.Ve,E.i]})}return s})()},2298:(C,y,a)=>{a.d(y,{$:()=>U});var m=a(4412),d=a(6496),g=a(8141),n=a(3471),v=a(1025),r=a(3953),c=a(3197),f=a(8964);let U=(()=>{class h{constructor(t,o){this.sharedFacade=t,this.organizationalUnitServices=o,this.OrganizationalUnitSubject$=new m.t([]),this.OrganizationalUnit$=this.OrganizationalUnitSubject$.asObservable(),this.UnitsByDirectManagerSubject$=new m.t([]),this.UnitsByDirectManager$=this.UnitsByDirectManagerSubject$.asObservable(),this.ContentIdNextQuerySubject$=new m.t(""),this.ContentIdNextQuery$=this.ContentIdNextQuerySubject$.asObservable(),this.AllUnitsBranchingFromSpecificUnitSubject$=new m.t([]),this.AllSpecificUnit$=this.AllUnitsBranchingFromSpecificUnitSubject$.asObservable(),this.AllUnitsDepartmentSubject$=new m.t([]),this.AllDepartmentUnit$=this.AllUnitsDepartmentSubject$.asObservable(),this.OrganizationalUnitsByLevelSubject$=new m.t([]),this.UnitsByLevel0$=this.OrganizationalUnitsByLevelSubject$.asObservable(),this.OrganizationalUnitsByLevel2Subject$=new m.t([]),this.UnitsByLevel2$=this.OrganizationalUnitsByLevel2Subject$.asObservable(),this.UnitTypeSubject$=new m.t([]),this.UnitType$=this.UnitTypeSubject$.asObservable()}deleteOrganizationalUnit(t){const o=this.organizationalUnitServices.DeleteOrganizationalUnit(t).pipe((0,g.M)(i=>{if(i.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success," \u062d\u0630\u0641 ",["\u062a\u0645 \u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d"]);const F=this.OrganizationalUnitSubject$.getValue().filter($=>$.id!=t);this.OrganizationalUnitSubject$.next(F),this.OrganizationalUnitSubject$.subscribe()}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}GetOrganizationalUnit(){const t=this.organizationalUnitServices.GetAllOrganizationalUnits(1).pipe((0,g.M)(o=>{o.type==n.yl.Success?this.OrganizationalUnitSubject$.next(o.content):(this.OrganizationalUnitSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",o.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(t).pipe().subscribe()}GetUnitType(){const t=this.organizationalUnitServices.GetUnitType().pipe((0,g.M)(o=>{o.type==n.yl.Success?this.UnitTypeSubject$.next(o.content):(this.UnitTypeSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",o.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(t).pipe().subscribe()}GetOrganizationalUnitsByLevel(t){const o=this.organizationalUnitServices.GetOrganizationalUnitsByLevel(1,t).pipe((0,g.M)(i=>{i.type==n.yl.Success?2==t?this.OrganizationalUnitsByLevel2Subject$.next(i.content):this.OrganizationalUnitsByLevelSubject$.next(i.content):(this.OrganizationalUnitsByLevelSubject$.next([]),this.OrganizationalUnitsByLevel2Subject$.next([]),"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629"==i.messages[0]?this.sharedFacade.showMessage(n.Go.warning,"",i.messages):this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",i.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}GetUnitsByDirectManager(t){const o=this.organizationalUnitServices.GetUnitsByDirectManager(t).pipe((0,g.M)(i=>{i.type==n.yl.Success?this.UnitsByDirectManagerSubject$.next(i.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==i.messages[0]?this.sharedFacade.showMessage(n.Go.warning,"",i.messages):this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}GetOrganizationalUnitIdNextQuery(t){const o=this.organizationalUnitServices.GetOrganizationalUnitIdNextQuery(t).pipe((0,g.M)(i=>{i.type==n.yl.Success?this.ContentIdNextQuerySubject$.next(i.content):this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}GetAllUnitsBranchingFromSpecificUnit(t){this.AllUnitsBranchingFromSpecificUnitSubject$.next([]);const o=this.organizationalUnitServices.GetAllUnitsBranchingFromSpecificUnit(t).pipe((0,g.M)(i=>{i.type==n.yl.Success?this.AllUnitsBranchingFromSpecificUnitSubject$.next(i.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==i.messages[0]?this.sharedFacade.showMessage(n.Go.warning,"",i.messages):this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}GetAllUnitsDepartment(t){this.AllUnitsDepartmentSubject$.next([]),this.AllUnitsBranchingFromSpecificUnitSubject$.next([]);const o=this.organizationalUnitServices.GetAllUnitsBranchingFromSpecificUnit(t,!0).pipe((0,g.M)(i=>{i.type==n.yl.Success?this.AllUnitsDepartmentSubject$.next(i.content):"\u0644\u0627 \u064a\u0648\u062c\u062f\u0629 \u0648\u062d\u062f\u0627\u062a \u062a\u0646\u0638\u064a\u0645\u0629 \u062a\u062a\u0628\u0639 \u0647\u0630\u0647 \u0627\u0644\u0648\u062d\u062f\u0629"==i.messages[0]?this.sharedFacade.showMessage(n.Go.warning,"",i.messages):this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}AddOrganizationalUnit(t){const o=this.organizationalUnitServices.AddOrganizationalUnit(t).pipe((0,g.M)(i=>{if(i.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success,"\u062a\u0645\u062a \u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d",i.messages);const j=this.OrganizationalUnitSubject$.getValue();this.OrganizationalUnitSubject$.next((0,v.jM)(j,F=>{t.id=i.content.id,t.number=i.content.number,F.unshift(t)}))}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0625\u0636\u0627\u0641\u0629",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}UpdateOrganizationalUnit(t){const o=this.organizationalUnitServices.UpdateOrganizationalUnit(t).pipe((0,g.M)(i=>{if(i.type==n.yl.Success){this.sharedFacade.showMessage(n.Go.success,"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d",i.messages);const j=this.OrganizationalUnitSubject$.getValue();this.OrganizationalUnitSubject$.next((0,v.jM)(j,F=>{const $=F.findIndex(A=>A.id===t.id);F[$]=t,F[$].number=i.content.number})),this.OrganizationalUnitSubject$.subscribe()}else this.sharedFacade.showMessage(n.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u062a\u0639\u062f\u064a\u0644",i.messages)}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(o).pipe().subscribe()}filterOrganizationalUnits(t,o,i){const j=this.organizationalUnitServices.FilterOrganizationalUnits(t,o,i).pipe((0,g.M)(F=>{F.type==n.yl.Success?this.OrganizationalUnitSubject$.next(F.content):(this.OrganizationalUnitSubject$.next([]),this.sharedFacade.showMessage(n.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",F.messages))}),(0,d.t)());this.sharedFacade.showLoaderUntilCompleted(j).pipe().subscribe()}static#t=this.\u0275fac=function(o){return new(o||h)(r.KVO(c.I),r.KVO(f.p))};static#e=this.\u0275prov=r.jDH({token:h,factory:h.\u0275fac})}return h})()},8964:(C,y,a)=>{a.d(y,{p:()=>n});var m=a(1626),d=a(3953),g=a(1441);let n=(()=>{class v{constructor(c,f){this.http=c,this.appConfig=f,this.url=this.appConfig.defaultUrl}AddOrganizationalUnit(c){return this.http.post(`${this.url}/api/AdministrativeAffairs/AddOrganizationalUnit?culture=ar-LY`,c)}UpdateOrganizationalUnit(c){return this.http.post(`${this.url}/api/AdministrativeAffairs/UpdateOrganizationalUnit?culture=ar-LY`,c)}DeleteOrganizationalUnit(c){return this.http.delete(`${this.url}/api/AdministrativeAffairs/DeleteOrganizationalUnit?Id=${c}&culture=ar-LY`)}GetUnitsByDirectManager(c){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetUnitsByDirectManager?DirectManager=${c}&culture=ar-LY`)}GetAllOrganizationalUnits(c){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetAllOrganizationalUnits?IsActive=${c}&culture=ar-LY`)}GetUnitType(){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetAllOrganizationStructureTypes?culture=ar-LY`)}FilterOrganizationalUnits(c,f,U){let h=(new m.Nl).set("culture","ar-LY");return""!=f&&null!=f&&(h=h.set("Name",f)),""!=U&&null!=U&&(h=h.set("costCenter",U)),this.http.get(`${this.url}/api/AdministrativeAffairs/FilterOrganizationalUnits?culture=ar-LY`,{params:h})}GetOrganizationalUnitIdNextQuery(c){return this.http.get(`${this.url}/api/AdministrativeAffairs/GetOrganizationalUnitIdNextQuery?ParentId=${c}&culture=ar-LY`)}GetAllUnitsBranchingFromSpecificUnit(c,f=!1){return this.http.get(`${this.url}/api/AdministrativeAffairs/FetchAllUnitsBranchingFromSpecificUnit?OrganizationalUnitNumber=${c}&departmentOnly=${f}&culture=ar-LY`)}GetOrganizationalUnitsByLevel(c,f){return this.http.get(`${this.url}/api/AdministrativeAffairs/OrganizationalUnitsByLevel?IsActive=${c}&Level=${f}&culture=ar-LY`)}static#t=this.\u0275fac=function(f){return new(f||v)(d.KVO(m.Qq),d.KVO(g.o))};static#e=this.\u0275prov=d.jDH({token:v,factory:v.\u0275fac})}return v})()}}]);