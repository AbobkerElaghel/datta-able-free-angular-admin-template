"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[6968],{2356:(C,y,t)=>{t.d(y,{n:()=>F});var m=t(4412),h=t(6496),s=t(8141),l=t(3471),e=t(1025),f=t(3953),a=t(3197),i=t(5842),E=t(8655);let F=(()=>{class v{constructor(u,p,n){this.sharedFacade=u,this.EmployeesServices=p,this.employeeGlobalServices=n,this.employeeSubject$=new m.t([]),this.employee$=this.employeeSubject$.asObservable(),this.employeePageSubject$=new m.t([]),this.employeePage$=this.employeePageSubject$.asObservable()}deleteEmployee(u){const p=this.EmployeesServices.DeleteEmployee(u).pipe((0,s.M)(n=>{if(n.type==l.yl.Success){this.sharedFacade.showMessage(l.Go.success," \u062d\u0630\u0641 \u0645\u0633\u062a\u062e\u062f\u0645",["\u062a\u0645 \u062d\u0630\u0641 \u0628\u0646\u062c\u0627\u062d"]);const b=this.employeeSubject$.getValue().filter(j=>j.id!=u);this.employeeSubject$.next(b),this.employeeSubject$.subscribe()}else this.sharedFacade.showMessage(l.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u062d\u0630\u0641",n.messages)}),(0,h.t)());this.sharedFacade.showLoaderUntilCompleted(p).pipe().subscribe()}GetEmployee(u){const p=this.employeeGlobalServices.GetEmployeeSmallObject(u).pipe((0,s.M)(n=>{n.type==l.yl.Success?this.employeeSubject$.next(n.content):(this.employeeSubject$.next([]),this.sharedFacade.showMessage(l.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",n.messages))}),(0,h.t)());this.sharedFacade.showLoaderUntilCompleted(p).pipe().subscribe()}GetEmployeePage(u,p){const n=this.employeeGlobalServices.GetEmployee(u,p).pipe((0,s.M)(g=>{g.type==l.yl.Success?this.employeePageSubject$.next(g.content):(this.employeePageSubject$.next([]),this.sharedFacade.showMessage(l.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",g.messages))}),(0,h.t)());this.sharedFacade.showLoaderUntilCompleted(n).pipe().subscribe()}UpdateEmployee(u){const p=this.EmployeesServices.UpdateEmployee(u).pipe((0,s.M)(n=>{if(n.type==l.yl.Success){this.sharedFacade.showMessage(l.Go.success,"\u062a\u0645 \u062a\u0639\u062f\u064a\u0644 \u0628\u0646\u062c\u0627\u062d",n.messages);const g=this.employeeSubject$.getValue();this.employeeSubject$.next((0,e.jM)(g,b=>{const j=b.findIndex(O=>O.id===u.id);b[j]=u})),this.employeeSubject$.subscribe()}else this.sharedFacade.showMessage(l.Go.error,"\u0644\u0645 \u062a\u062a\u0645 \u0639\u0645\u0644\u064a\u0629 \u062a\u0639\u062f\u064a\u0644",n.messages)}),(0,h.t)());this.sharedFacade.showLoaderUntilCompleted(p).pipe().subscribe()}static#e=this.\u0275fac=function(p){return new(p||v)(f.KVO(a.I),f.KVO(i.v),f.KVO(E.U))};static#t=this.\u0275prov=f.jDH({token:v,factory:v.\u0275fac})}return v})()},6968:(C,y,t)=>{t.r(y),t.d(y,{EmployeeModule:()=>S});var m=t(177),h=t(7062),s=t(9417),l=t(3471),e=t(3953),f=t(2356),a=t(3197),i=t(2016),E=t(2702),F=t(9947),v=t(8834);function D(r,P){if(1&r&&(e.j41(0,"option",21),e.EFF(1),e.k0s()),2&r){const o=P.$implicit;e.Y8G("value",o.name),e.R7$(),e.SpI("",o.name," ")}}function u(r,P){if(1&r){const o=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td",22)(14,"a",23),e.bIt("click",function(){const d=e.eBV(o).$implicit,M=e.XpG();return e.Njj(M.onDelete(d.id))}),e.j41(15,"i",24),e.EFF(16,"close"),e.k0s()()()()}if(2&r){const o=P.$implicit;e.R7$(2),e.JRh(o.employeeCode),e.R7$(2),e.JRh(o.positionCode),e.R7$(2),e.JRh(o.name),e.R7$(2),e.JRh(o.nameEn),e.R7$(2),e.JRh(o.phoneNumber),e.R7$(2),e.JRh(o.financialNumber)}}const n=[{path:"",component:(()=>{class r{constructor(o,c,d,M){this.employeeFacade=o,this.fb=c,this.sharedFacade=d,this.cdr=M,this.edit=!1,this.phoneNumberPattern="[0][9]{1}[1,2,4,3,5]{1}[0-9]{7}",this.registerForm=this.fb.group({searchType:["",s.k0.required],value:["",s.k0.required],code:[""],phoneNumber:["",[s.k0.minLength(10),s.k0.maxLength(10),s.k0.pattern(this.phoneNumberPattern)]],employeeName:[""]}),this.onSubmit()}ngOnInit(){this.edit=!1}onSubmit(){this.employeeFacade.GetEmployeePage("",""),this.employeeFacade.GetEmployee()}onDelete(o){this.edit=!1,this.employeeFacade.deleteEmployee(o),this.registerForm.reset()}onReset(){this.registerForm.reset(),this.registerForm.setErrors(null),this.employeeFacade.GetEmployeePage("","")}onSearch(){""!=this.registerForm.value.code&&null!=this.registerForm.value.code||""!=this.registerForm.value.employeeName&&null!=this.registerForm.value.employeeName||""!=this.registerForm.value.phoneNumber&&null!=this.registerForm.value.phoneNumber?this.registerForm.controls.phoneNumber.invalid&&""!=this.registerForm.value.phoneNumber&&null!=this.registerForm.value.phoneNumber?this.sharedFacade.showMessage(l.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644  \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0635\u064a\u063a\u0629 \u0635\u062d\u064a\u062d\u0629  ",[""]):(this.employeeFacade.GetEmployeePage(""!=this.registerForm.controls.employeeName.value&&null!=this.registerForm.controls.employeeName.value?"2":""!=this.registerForm.controls.code.value&&null!=this.registerForm.controls.code.value?"1":"3",""!=this.registerForm.controls.employeeName.value&&null!=this.registerForm.controls.employeeName.value?this.registerForm.value.employeeName:""!=this.registerForm.controls.code.value&&null!=this.registerForm.controls.code.value?this.registerForm.value.code:this.registerForm.value.phoneNumber),this.cdr.detectChanges()):this.sharedFacade.showMessage(l.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0628\u062d\u062b   ",[""])}static#e=this.\u0275fac=function(c){return new(c||r)(e.rXU(f.n),e.rXU(s.ok),e.rXU(a.I),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-employee"]],decls:52,vars:8,consts:[[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"col-md-2"],["formControlName","employeeName","required","","aria-label","select example",1,"form-select"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","required","","formControlName","code","id","employeeCode",1,"form-control"],[1,"col-md-3"],["type","text","required","","formControlName","phoneNumber","id","phoneNumber",1,"form-control"],[1,"col-md-3","align-self-end"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"feather","icon-info"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 ","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[3,"value"],[1,"td-actions","text-right"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"]],template:function(c,d){1&c&&(e.j41(0,"div",0),e.nrm(1,"app-loading")(2,"app-messages"),e.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"form",4)(7,"div",0)(8,"div",5)(9,"label"),e.EFF(10," \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.j41(11,"select",6)(12,"option",7),e.EFF(13,"\u0627\u062e\u062a\u0631 ..."),e.k0s(),e.DNE(14,D,2,2,"option",8),e.nI1(15,"async"),e.k0s()(),e.j41(16,"div",5)(17,"label"),e.EFF(18," \u0631\u0642\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(19,"input",9),e.k0s(),e.j41(20,"div",10)(21,"label"),e.EFF(22," \u0631\u0642\u0645 \u0647\u0627\u062a\u0641 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.nrm(23,"input",11),e.k0s(),e.j41(24,"div",12)(25,"button",13),e.bIt("click",function(){return d.onSearch()}),e.EFF(26," \u0628\u062d\u062b "),e.nrm(27,"i",14),e.k0s()()()(),e.nrm(28,"br"),e.j41(29,"button",15),e.bIt("click",function(){return d.onReset()}),e.EFF(30,"\u062c\u062f\u064a\u062f"),e.k0s()()()(),e.j41(31,"div",16)(32,"app-card",17)(33,"div",18)(34,"table",19)(35,"thead")(36,"th"),e.EFF(37,"\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),e.k0s(),e.j41(38,"th"),e.EFF(39,"\u0631\u0642\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"),e.k0s(),e.j41(40,"th"),e.EFF(41,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064a"),e.k0s(),e.j41(42,"th"),e.EFF(43,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645 \u0628\u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a"),e.k0s(),e.j41(44,"th"),e.EFF(45,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),e.k0s(),e.j41(46,"th"),e.EFF(47,"\u0631\u0642\u0645 \u0627\u0644\u0645\u0627\u0644\u064a"),e.k0s(),e.nrm(48,"th"),e.k0s(),e.j41(49,"tbody"),e.DNE(50,u,17,6,"tr",20),e.nI1(51,"async"),e.k0s()()()()()()),2&c&&(e.R7$(6),e.Y8G("formGroup",d.registerForm),e.R7$(8),e.Y8G("ngForOf",e.bMT(15,4,d.employeeFacade.employee$)),e.R7$(18),e.Y8G("options",!1),e.R7$(18),e.Y8G("ngForOf",e.bMT(51,6,d.employeeFacade.employeePage$)))},dependencies:[m.Sq,s.qT,s.xH,s.y7,s.me,s.wz,s.BC,s.cb,s.YS,s.j4,s.JD,i.q,E.y,F.i,v.It,m.Jj]})}return r})(),data:{breadcrumb:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646"}}];let g=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.$C({type:r});static#s=this.\u0275inj=e.G2t({imports:[h.iI.forChild(n),h.iI]})}return r})();var b=t(5842),j=t(1786),O=t(3719),$=t(9631),R=t(9183),_=t(6600),G=t(2798);let S=(()=>{class r{static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275mod=e.$C({type:r});static#s=this.\u0275inj=e.G2t({providers:[f.n,b.v],imports:[m.MD,g,s.X1,j.G,O.RG,F.i,v.Hl,$.fS,R.D6,_.Sy,G.Ve]})}return r})()},5842:(C,y,t)=>{t.d(y,{v:()=>l});var m=t(3953),h=t(1626),s=t(1441);let l=(()=>{class e{constructor(a,i){this.http=a,this.appConfig=i,this.url=this.appConfig.defaultUrl}UpdateEmployee(a){return this.http.put(`${this.url}/api/Employee/UpdateEmployee?culture=ar-LY`,a)}DeleteEmployee(a){return this.http.delete(`${this.url}/api/Employee/DeleteEmployee?Id=${a}&culture=ar-LY`)}static#e=this.\u0275fac=function(i){return new(i||e)(m.KVO(h.Qq),m.KVO(s.o))};static#t=this.\u0275prov=m.jDH({token:e,factory:e.\u0275fac})}return e})()},8655:(C,y,t)=>{t.d(y,{U:()=>l});var m=t(3953),h=t(1626),s=t(1441);let l=(()=>{class e{constructor(a,i){this.http=a,this.appConfig=i,this.url=this.appConfig.defaultUrl}GetEmployee(a,i,E="ar-LY"){const F={culture:E};return a&&(F.SearchType=a),i&&(F.Value=i),this.http.get(`${this.url}/api/Employee/GetAllEmployee`,{params:F})}GetEmployeeSmallObject(a,i="ar-LY"){const E={culture:i};return a&&(E.Name=a),this.http.get(`${this.url}/api/Employee/GetEmployees`,{params:E})}static#e=this.\u0275fac=function(i){return new(i||e)(m.KVO(h.Qq),m.KVO(s.o))};static#t=this.\u0275prov=m.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);